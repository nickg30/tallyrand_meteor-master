{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"slippry.js","filenameRelative":"slippry.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"slippry.js.map","sourceFileName":"slippry.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"slippry"},"ignored":false,"code":"/** @preserve\n *\n * slippry v1.4.0 - Responsive content slider for jQuery\n * http://slippry.com\n *\n * Authors: Lukas Jakob Hafner - @saftsaak\n *          Thomas Hurd - @SeenNotHurd\n *\n * Copyright 2016, booncon oy - http://booncon.com\n *\n *\n * Released under the MIT license - http://opensource.org/licenses/MIT\n */(function ($) {\n  \"use strict\";\n\n  var defaults;\n  defaults = {\n    // general elements & wrapper\n    slippryWrapper: '<div class=\"sy-box\" />',\n    // wrapper to wrap everything, including pager\n    slideWrapper: '<div class=\"sy-slides-wrap\" />',\n    // wrapper to wrap sildes & controls\n    slideCrop: '<div class=\"sy-slides-crop\" />',\n    //additional wrapper around just the slides\n    boxClass: 'sy-list',\n    // class that goes to original element\n    elements: 'li',\n    // elments cointaining slide content\n    activeClass: 'sy-active',\n    // class for current slide\n    fillerClass: 'sy-filler',\n    // class for element that acts as intrinsic placholder\n    loadingClass: 'sy-loading',\n    // options\n    adaptiveHeight: true,\n    // height of the sliders adapts to current slide\n    start: 1,\n    // num (starting from 1), random\n    loop: true,\n    // first -> last & last -> first arrows\n    captionsSrc: 'img',\n    // img, el [img takes caption from alt or title, el from title of slide element]\n    captions: 'overlay',\n    // Position: overlay, below, custom, false\n    captionsEl: '.sy-caption',\n    // $ selector for captions wrapper\n    initSingle: true,\n    // initialise even if there is only one slide\n    responsive: true,\n    preload: 'visible',\n    // visible, all | resources to wait for until showing slider\n    // pager\n    pager: true,\n    pagerClass: 'sy-pager',\n    // controls\n    controls: true,\n    controlClass: 'sy-controls',\n    prevClass: 'sy-prev',\n    prevText: 'Previous',\n    nextClass: 'sy-next',\n    nextText: 'Next',\n    hideOnEnd: true,\n    // transitions\n    transition: 'fade',\n    // fade, horizontal, vertical, kenburns, false\n    kenZoom: 120,\n    // max zoom for kenburns (in %)\n    slideMargin: 0,\n    // spacing between slides (in %)\n    transClass: 'transition',\n    // [Class applied to [element] while a transition is taking place.]\n    speed: 800,\n    // time the transition takes (ms)\n    easing: 'swing',\n    // easing to use in the animation [(see... [jquery www])]\n    continuous: true,\n    // seamless first/ last transistion, only works with loop\n    useCSS: true,\n    // true, false -> fallback to js if no browser support\n    //slideshow\n    auto: true,\n    autoDirection: 'next',\n    autoHover: true,\n    autoHoverDelay: 100,\n    autoDelay: 500,\n    pause: 4000,\n    // callback functions\n    onSliderLoad: function () {\n      // when slider loaded\n      return this;\n    },\n    onSlideBefore: function () {\n      // before page transition starts\n      return this;\n    },\n    onSlideAfter: function () {\n      // after page transition happened\n      return this;\n    }\n  };\n\n  $.fn.slippry = function (options) {\n    var slip, el, prepareFiller, getFillerProportions, init, updateCaption, initPager, initControls, ready, transitionDone, whichTransitionEvent, initCaptions, updatePager, setFillerProportions, doTransition, updateSlide, openSlide, updateControls, updatePos, supports, preload, start, elFromSel, doKens; // reference to the object calling the function\n\n    el = this; // if no elements just stop\n\n    if (el.length === 0) {\n      return this;\n    } // support mutltiple elements\n\n\n    if (el.length > 1) {\n      el.each(function () {\n        $(this).slippry(options);\n      });\n      return this;\n    } // variable to access the slider settings across the plugin\n\n\n    slip = {};\n    slip.vars = {};\n\n    whichTransitionEvent = function () {\n      // Thanks! http://stackoverflow.com/a/18672988\n      var t, div, transitions;\n      div = document.createElement('div');\n      transitions = {\n        'WebkitTransition': 'webkitTransitionEnd',\n        'MozTransition': 'transitionend',\n        'MSTransition': 'msTransitionEnd',\n        'OTransition': 'oTransitionEnd',\n        'transition': 'transitionEnd transitionend'\n      };\n\n      for (t in meteorBabelHelpers.sanitizeForInObject(transitions)) {\n        if (div.style[t] !== undefined) {\n          return transitions[t];\n        }\n      }\n    };\n\n    supports = function () {\n      // Thanks! http://net.tutsplus.com/tutorials/html-css-techniques/quick-tip-detect-css-support-in-browsers-with-javascript/\n      var div = document.createElement('div'),\n          vendors = ['Khtml', 'Ms', 'O', 'Moz', 'Webkit'],\n          len = vendors.length;\n      return function (prop) {\n        if (prop in div.style) {\n          return true;\n        }\n\n        prop = prop.replace(/^[a-z]/, function (val) {\n          return val.toUpperCase();\n        });\n\n        while (len--) {\n          if (vendors[len] + prop in div.style) {\n            return true;\n          }\n        }\n\n        return false;\n      };\n    }();\n\n    elFromSel = function (sel, prop) {\n      var props, newelement, id, className;\n      props = prop.split('.');\n      newelement = $(sel);\n      id = '';\n      className = '';\n      $.each(props, function (i, val) {\n        if (val.indexOf('#') >= 0) {\n          id += val.replace(/^#/, '');\n        } else {\n          className += val + ' ';\n        }\n      });\n\n      if (id.length) {\n        newelement.attr('id', id);\n      }\n\n      if (className.length) {\n        newelement.attr('class', $.trim(className));\n      }\n\n      return newelement;\n    };\n\n    doKens = function () {\n      var kenStart, kenTime, animProp, cssProp;\n      animProp = {};\n      cssProp = {};\n      kenStart = 100 - slip.settings.kenZoom;\n      cssProp.width = slip.settings.kenZoom + '%';\n\n      if (slip.vars.active.index() % 2 === 0) {\n        cssProp.left = kenStart + '%';\n        cssProp.top = kenStart + '%';\n        animProp.left = '0%';\n        animProp.top = '0%';\n      } else {\n        cssProp.left = '0%';\n        cssProp.top = '0%';\n        animProp.left = kenStart + '%';\n        animProp.top = kenStart + '%';\n      }\n\n      kenTime = slip.settings.pause + slip.settings.speed * 2;\n      slip.vars.active.css(cssProp);\n      slip.vars.active.animate(animProp, {\n        duration: kenTime,\n        easing: slip.settings.easing,\n        queue: false\n      });\n    };\n\n    ready = function () {\n      if (slip.vars.fresh) {\n        slip.vars.slippryWrapper.removeClass(slip.settings.loadingClass);\n        slip.vars.fresh = false;\n\n        if (slip.settings.auto) {\n          el.startAuto();\n        }\n\n        if (!slip.settings.useCSS && slip.settings.transition === 'kenburns') {\n          doKens();\n        }\n\n        slip.settings.onSliderLoad.call(undefined, slip.vars.active.index());\n      } else {\n        $('.' + slip.settings.fillerClass, slip.vars.slideWrapper).addClass('ready');\n      }\n    };\n\n    setFillerProportions = function (width, height) {\n      var ratio, p_top, $filler;\n      ratio = width / height;\n      p_top = 1 / ratio * 100 + '%'; //cool intrinsic trick: http://alistapart.com/article/creating-intrinsic-ratios-for-video\n\n      $filler = $('.' + slip.settings.fillerClass, slip.vars.slideWrapper);\n      $filler.css({\n        paddingTop: p_top\n      }); // resizing without the need of js, true responsiveness :)\n\n      ready();\n    }; // gets the aspect ratio of the filler element\n\n\n    getFillerProportions = function ($slide) {\n      var width, height;\n\n      if ($('img', $slide).attr(\"src\") !== undefined) {\n        $(\"<img />\").on(\"load\", function () {\n          width = $slide.width();\n          height = $slide.height();\n          setFillerProportions(width, height);\n        }).attr(\"src\", $('img', $slide).attr(\"src\"));\n      } else {\n        width = $slide.width();\n        height = $slide.height();\n        setFillerProportions(width, height);\n      }\n    }; // prepares a div to occupy the needed space\n\n\n    prepareFiller = function () {\n      if ($('.' + slip.settings.fillerClass, slip.vars.slideWrapper).length === 0) {\n        slip.vars.slideWrapper.append($('<div class=\"' + slip.settings.fillerClass + '\" />'));\n      }\n\n      if (slip.settings.adaptiveHeight === true) {\n        // if the slides shoud alwas adapt to their content\n        getFillerProportions($('.' + slip.settings.activeClass, el)); // set the filler height on the active element\n      } else {\n        // otherwise get the highest element\n        var $highest, height, loop;\n        height = 0;\n        loop = 0;\n        $(slip.vars.slides).each(function () {\n          if ($(this).height() > height) {\n            $highest = $(this);\n            height = $highest.height();\n          }\n\n          loop = loop + 1;\n\n          if (loop === slip.vars.count) {\n            if ($highest === undefined) {\n              $highest = $($(slip.vars.slides)[0]);\n            }\n\n            getFillerProportions($highest);\n          }\n        });\n      }\n    };\n\n    updatePager = function () {\n      if (slip.settings.pager) {\n        $('.' + slip.settings.pagerClass + ' li', slip.vars.slippryWrapper).removeClass(slip.settings.activeClass);\n        $($('.' + slip.settings.pagerClass + ' li', slip.vars.slippryWrapper)[slip.vars.active.index()]).addClass(slip.settings.activeClass);\n      }\n    };\n\n    updateControls = function () {\n      if (!slip.settings.loop && slip.settings.hideOnEnd) {\n        $('.' + slip.settings.prevClass, slip.vars.slippryWrapper)[slip.vars.first ? 'hide' : 'show']();\n        $('.' + slip.settings.nextClass, slip.vars.slippryWrapper)[slip.vars.last ? 'hide' : 'show']();\n      }\n    };\n\n    updateCaption = function () {\n      var caption, wrapper;\n\n      if (slip.settings.captions !== false) {\n        if (slip.settings.captionsSrc !== 'img') {\n          caption = slip.vars.active.attr('title');\n        } else {\n          caption = $('img', slip.vars.active).attr('title') !== undefined ? $('img', slip.vars.active).attr('title') : $('img', slip.vars.active).attr('alt');\n        }\n\n        if (slip.settings.captions !== 'custom') {\n          wrapper = $(slip.settings.captionsEl, slip.vars.slippryWrapper);\n        } else {\n          wrapper = $(slip.settings.captionsEl);\n        }\n\n        if (caption !== undefined && caption !== '') {\n          wrapper.html(caption).show();\n        } else {\n          wrapper.hide();\n        }\n      }\n    };\n\n    el.startAuto = function () {\n      if (slip.vars.timer === undefined && slip.vars.delay === undefined) {\n        slip.vars.delay = window.setTimeout(function () {\n          slip.vars.autodelay = false;\n          slip.vars.timer = window.setInterval(function () {\n            slip.vars.trigger = 'auto';\n            openSlide(slip.settings.autoDirection);\n          }, slip.settings.pause);\n        }, slip.vars.autodelay ? slip.settings.autoHoverDelay : slip.settings.autoDelay);\n\n        if (slip.settings.autoHover) {\n          slip.vars.slideWrapper.unbind('mouseenter').unbind('mouseleave').bind('mouseenter', function () {\n            if (slip.vars.timer !== undefined) {\n              slip.vars.hoverStop = true;\n              el.stopAuto();\n            } else {\n              slip.vars.hoverStop = false;\n            }\n          }).bind('mouseleave', function () {\n            if (slip.vars.hoverStop) {\n              slip.vars.autodelay = true;\n              el.startAuto();\n            }\n          });\n        }\n      }\n    };\n\n    el.stopAuto = function () {\n      window.clearInterval(slip.vars.timer);\n      slip.vars.timer = undefined;\n      window.clearTimeout(slip.vars.delay);\n      slip.vars.delay = undefined;\n    }; // refreshes the already initialised slider\n\n\n    el.refresh = function () {\n      slip.vars.slides.removeClass(slip.settings.activeClass);\n      slip.vars.active.addClass(slip.settings.activeClass);\n\n      if (slip.settings.responsive) {\n        prepareFiller();\n      } else {\n        ready();\n      }\n\n      updateControls();\n      updatePager();\n      updateCaption();\n    };\n\n    updateSlide = function () {\n      el.refresh();\n    };\n\n    transitionDone = function () {\n      slip.vars.moving = false;\n      slip.vars.active.removeClass(slip.settings.transClass);\n\n      if (!slip.vars.fresh) {\n        slip.vars.old.removeClass('sy-ken');\n      }\n\n      slip.vars.old.removeClass(slip.settings.transClass);\n      slip.settings.onSlideAfter.call(undefined, slip.vars.active, slip.vars.old.index(), slip.vars.active.index());\n\n      if (slip.settings.auto) {\n        if (!slip.vars.hoverStop || slip.vars.hoverStop === undefined) {\n          el.startAuto();\n        }\n      }\n    };\n\n    doTransition = function () {\n      var pos, jump, old_left, old_pos, kenTime, ref, cssProp;\n      slip.settings.onSlideBefore.call(undefined, slip.vars.active, slip.vars.old.index(), slip.vars.active.index());\n\n      if (slip.settings.transition !== false) {\n        slip.vars.moving = true;\n\n        if (slip.settings.transition === 'fade' || slip.settings.transition === 'kenburns') {\n          if (slip.vars.fresh) {\n            if (slip.settings.useCSS) {\n              slip.vars.slides.css({\n                transitionDuration: slip.settings.speed + 'ms',\n                opacity: 0\n              });\n            } else {\n              slip.vars.slides.css({\n                opacity: 0\n              });\n            }\n\n            slip.vars.active.css('opacity', 1);\n\n            if (slip.settings.transition === 'kenburns') {\n              if (slip.settings.useCSS) {\n                kenTime = slip.settings.pause + slip.settings.speed * 2;\n                slip.vars.slides.css({\n                  animationDuration: kenTime + 'ms'\n                });\n                slip.vars.active.addClass('sy-ken');\n              }\n            }\n\n            transitionDone();\n          } else {\n            if (slip.settings.useCSS) {\n              slip.vars.old.addClass(slip.settings.transClass).css('opacity', 0);\n              slip.vars.active.addClass(slip.settings.transClass).css('opacity', 1);\n\n              if (slip.settings.transition === 'kenburns') {\n                slip.vars.active.addClass('sy-ken');\n              }\n\n              $(window).off('focus').on('focus', function () {\n                // bugfix for safari 7 which doesn't always trigger ontransitionend when switching tab\n                if (slip.vars.moving) {\n                  slip.vars.old.trigger(slip.vars.transition);\n                }\n              });\n              slip.vars.old.one(slip.vars.transition, function () {\n                transitionDone();\n                return this;\n              });\n            } else {\n              if (slip.settings.transition === 'kenburns') {\n                doKens();\n              }\n\n              slip.vars.old.addClass(slip.settings.transClass).animate({\n                opacity: 0\n              }, slip.settings.speed, slip.settings.easing, function () {\n                transitionDone();\n              });\n              slip.vars.active.addClass(slip.settings.transClass).css('opacity', 0).animate({\n                opacity: 1\n              }, slip.settings.speed, slip.settings.easing);\n            }\n          }\n\n          updateSlide();\n        } else if (slip.settings.transition === 'horizontal' || slip.settings.transition === 'vertical') {\n          ref = slip.settings.transition === 'horizontal' ? 'left' : 'top';\n          pos = '-' + slip.vars.active.index() * (100 + slip.settings.slideMargin) + '%';\n\n          if (slip.vars.fresh) {\n            el.css(ref, pos);\n            transitionDone();\n          } else {\n            cssProp = {};\n\n            if (slip.settings.continuous) {\n              if (slip.vars.jump && (slip.vars.trigger === 'controls' || slip.vars.trigger === 'auto')) {\n                jump = true;\n                old_pos = pos;\n\n                if (slip.vars.first) {\n                  old_left = 0;\n                  slip.vars.active.css(ref, slip.vars.count * (100 + slip.settings.slideMargin) + '%');\n                  pos = '-' + slip.vars.count * (100 + slip.settings.slideMargin) + '%';\n                } else {\n                  old_left = (slip.vars.count - 1) * (100 + slip.settings.slideMargin) + '%';\n                  slip.vars.active.css(ref, -(100 + slip.settings.slideMargin) + '%');\n                  pos = 100 + slip.settings.slideMargin + '%';\n                }\n              }\n            }\n\n            slip.vars.active.addClass(slip.settings.transClass);\n\n            if (slip.settings.useCSS) {\n              cssProp[ref] = pos;\n              cssProp.transitionDuration = slip.settings.speed + 'ms';\n              el.addClass(slip.settings.transition);\n              el.css(cssProp);\n              $(window).off('focus').on('focus', function () {\n                // bugfix for safari 7 which doesn't always trigger ontransitionend when switching tab\n                if (slip.vars.moving) {\n                  el.trigger(slip.vars.transition);\n                }\n              });\n              el.one(slip.vars.transition, function () {\n                el.removeClass(slip.settings.transition);\n\n                if (jump) {\n                  slip.vars.active.css(ref, old_left);\n                  cssProp[ref] = old_pos;\n                  cssProp.transitionDuration = '0ms';\n                  el.css(cssProp);\n                }\n\n                transitionDone();\n                return this;\n              });\n            } else {\n              cssProp[ref] = pos;\n              el.stop().animate(cssProp, slip.settings.speed, slip.settings.easing, function () {\n                if (jump) {\n                  slip.vars.active.css(ref, old_left);\n                  el.css(ref, old_pos);\n                }\n\n                transitionDone();\n                return this;\n              });\n            }\n          }\n\n          updateSlide();\n        }\n      } else {\n        updateSlide();\n        transitionDone();\n      }\n    };\n\n    updatePos = function (slide) {\n      slip.vars.first = slip.vars.last = false;\n\n      if (slide === 'prev' || slide === 0) {\n        slip.vars.first = true;\n      } else if (slide === 'next' || slide === slip.vars.count - 1) {\n        slip.vars.last = true;\n      }\n    };\n\n    openSlide = function (slide) {\n      var current, direction;\n\n      if (!slip.vars.moving) {\n        if (slip.vars.trigger !== 'auto') {\n          el.stopAuto();\n        }\n\n        current = slip.vars.active.index();\n\n        if (slide === 'prev') {\n          direction = slide;\n\n          if (current > 0) {\n            slide = current - 1;\n          } else if (slip.settings.loop) {\n            slide = slip.vars.count - 1;\n          }\n        } else if (slide === 'next') {\n          direction = slide;\n\n          if (current < slip.vars.count - 1) {\n            slide = current + 1;\n          } else if (slip.settings.loop) {\n            slide = 0;\n          }\n        } else {\n          slide = slide - 1;\n          direction = slide < current ? 'prev' : 'next';\n        }\n\n        slip.vars.jump = false;\n\n        if (slide !== 'prev' && slide !== 'next' && (slide !== current || slip.vars.fresh)) {\n          updatePos(slide);\n          slip.vars.old = slip.vars.active;\n          slip.vars.active = $(slip.vars.slides[slide]);\n\n          if (current === 0 && direction === 'prev' || current === slip.vars.count - 1 && direction === 'next') {\n            slip.vars.jump = true;\n          }\n\n          doTransition();\n        }\n      }\n    };\n\n    el.goToSlide = function (slide) {\n      slip.vars.trigger = 'external';\n      openSlide(slide);\n    };\n\n    el.goToNextSlide = function () {\n      slip.vars.trigger = 'external';\n      openSlide('next');\n    };\n\n    el.goToPrevSlide = function () {\n      slip.vars.trigger = 'external';\n      openSlide('prev');\n    };\n\n    initPager = function () {\n      if (slip.settings.pager && slip.vars.count > 1) {\n        var count, loop, pager;\n        count = slip.vars.slides.length;\n        pager = $('<ul class=\"' + slip.settings.pagerClass + '\" />');\n\n        for (loop = 1; loop < count + 1; loop = loop + 1) {\n          pager.append($('<li />').append($('<a href=\"#' + loop + '\">' + loop + '</a>')));\n        }\n\n        slip.vars.slippryWrapper.append(pager);\n        $('.' + slip.settings.pagerClass + ' a', slip.vars.slippryWrapper).click(function () {\n          slip.vars.trigger = 'pager';\n          openSlide(parseInt(this.hash.split('#')[1], 10));\n          return false;\n        });\n        updatePager();\n      }\n    };\n\n    initControls = function () {\n      if (slip.settings.controls && slip.vars.count > 1) {\n        slip.vars.slideWrapper.append($('<ul class=\"' + slip.settings.controlClass + '\" />').append('<li class=\"' + slip.settings.prevClass + '\"><a href=\"#prev\">' + slip.settings.prevText + '</a></li>').append('<li class=\"' + slip.settings.nextClass + '\"><a href=\"#next\">' + slip.settings.nextText + '</a></li>'));\n        $('.' + slip.settings.controlClass + ' a', slip.vars.slippryWrapper).click(function () {\n          slip.vars.trigger = 'controls';\n          openSlide(this.hash.split('#')[1]);\n          return false;\n        });\n        updateControls();\n      }\n    };\n\n    initCaptions = function () {\n      if (slip.settings.captions !== false) {\n        if (slip.settings.captions === 'overlay') {\n          slip.vars.slideWrapper.append($('<div class=\"sy-caption-wrap\" />').html(elFromSel('<div />', slip.settings.captionsEl)));\n        } else if (slip.settings.captions === 'below') {\n          slip.vars.slippryWrapper.append($('<div class=\"sy-caption-wrap\" />').html(elFromSel('<div />', slip.settings.captionsEl)));\n        }\n      }\n    }; // actually show the first slide\n\n\n    start = function () {\n      openSlide(slip.vars.active.index() + 1);\n    }; // wait for images, iframes to be loaded\n\n\n    preload = function (slides) {\n      var count, loop, elements, container;\n      container = slip.settings.preload === 'all' ? slides : slip.vars.active;\n      elements = $('img, iframe', container);\n      count = elements.length;\n\n      if (count === 0) {\n        start();\n        return;\n      }\n\n      loop = 0;\n      elements.each(function () {\n        $(this).one('load error', function () {\n          if (++loop === count) {\n            start();\n          }\n        }).each(function () {\n          if (this.complete) {\n            $(this).trigger('load');\n          }\n        });\n      });\n    };\n\n    el.getCurrentSlide = function () {\n      return slip.vars.active;\n    };\n\n    el.getSlideCount = function () {\n      return slip.vars.count;\n    };\n\n    el.destroySlider = function () {\n      if (slip.vars.fresh === false) {\n        el.stopAuto();\n        slip.vars.moving = false;\n        slip.vars.slides.each(function () {\n          if ($(this).data(\"sy-cssBckup\") !== undefined) {\n            $(this).attr(\"style\", $(this).data(\"sy-cssBckup\"));\n          } else {\n            $(this).removeAttr('style');\n          }\n\n          if ($(this).data(\"sy-classBckup\") !== undefined) {\n            $(this).attr(\"class\", $(this).data(\"sy-classBckup\"));\n          } else {\n            $(this).removeAttr('class');\n          }\n        });\n\n        if (el.data(\"sy-cssBckup\") !== undefined) {\n          el.attr(\"style\", el.data(\"sy-cssBckup\"));\n        } else {\n          el.removeAttr('style');\n        }\n\n        if (el.data(\"sy-classBckup\") !== undefined) {\n          el.attr(\"class\", el.data(\"sy-classBckup\"));\n        } else {\n          el.removeAttr('class');\n        }\n\n        slip.vars.slippryWrapper.before(el);\n        slip.vars.slippryWrapper.remove();\n        slip.vars.fresh = undefined;\n      }\n    };\n\n    el.reloadSlider = function () {\n      el.destroySlider();\n      init();\n    }; // initialises the slider, creates needed markup\n\n\n    init = function () {\n      var first;\n      slip.settings = $.extend({}, defaults, options);\n      slip.vars.slides = $(slip.settings.elements, el);\n      slip.vars.count = slip.vars.slides.length;\n\n      if (slip.settings.useCSS) {\n        // deactivate css transitions on unsupported browsers\n        if (!supports('transition')) {\n          slip.settings.useCSS = false;\n        }\n\n        slip.vars.transition = whichTransitionEvent();\n      }\n\n      el.data('sy-cssBckup', el.attr('style'));\n      el.data('sy-classBackup', el.attr('class'));\n      el.addClass(slip.settings.boxClass).wrap(slip.settings.slippryWrapper).wrap(slip.settings.slideWrapper).wrap(slip.settings.slideCrop);\n      slip.vars.slideWrapper = el.parent().parent();\n      slip.vars.slippryWrapper = slip.vars.slideWrapper.parent().addClass(slip.settings.loadingClass);\n      slip.vars.fresh = true;\n      slip.vars.slides.each(function () {\n        $(this).addClass('sy-slide ' + slip.settings.transition);\n\n        if (slip.settings.useCSS) {\n          $(this).addClass('useCSS');\n        }\n\n        if (slip.settings.transition === 'horizontal') {\n          $(this).css('left', $(this).index() * (100 + slip.settings.slideMargin) + '%');\n        } else if (slip.settings.transition === 'vertical') {\n          $(this).css('top', $(this).index() * (100 + slip.settings.slideMargin) + '%');\n        }\n      });\n\n      if (slip.vars.count > 1 || slip.settings.initSingle) {\n        if ($('.' + slip.settings.activeClass, el).index() === -1) {\n          if (slip.settings.start === 'random') {\n            first = Math.round(Math.random() * (slip.vars.count - 1));\n          } else if (slip.settings.start > 0 && slip.settings.start <= slip.vars.count) {\n            first = slip.settings.start - 1;\n          } else {\n            first = 0;\n          }\n\n          slip.vars.active = $(slip.vars.slides[first]).addClass(slip.settings.activeClass);\n        } else {\n          slip.vars.active = $('.' + slip.settings.activeClass, el);\n        }\n\n        initControls();\n        initPager();\n        initCaptions();\n        preload(slip.vars.slides);\n      } else {\n        return this;\n      }\n    };\n\n    init(); // on startup initialise the slider\n\n    return this;\n  };\n})(jQuery);","map":{"version":3,"sources":["slippry.js"],"names":["$","defaults","slippryWrapper","slideWrapper","slideCrop","boxClass","elements","activeClass","fillerClass","loadingClass","adaptiveHeight","start","loop","captionsSrc","captions","captionsEl","initSingle","responsive","preload","pager","pagerClass","controls","controlClass","prevClass","prevText","nextClass","nextText","hideOnEnd","transition","kenZoom","slideMargin","transClass","speed","easing","continuous","useCSS","auto","autoDirection","autoHover","autoHoverDelay","autoDelay","pause","onSliderLoad","onSlideBefore","onSlideAfter","fn","slippry","options","slip","el","prepareFiller","getFillerProportions","init","updateCaption","initPager","initControls","ready","transitionDone","whichTransitionEvent","initCaptions","updatePager","setFillerProportions","doTransition","updateSlide","openSlide","updateControls","updatePos","supports","elFromSel","doKens","length","each","vars","t","div","transitions","document","createElement","style","undefined","vendors","len","prop","replace","val","toUpperCase","sel","props","newelement","id","className","split","i","indexOf","attr","trim","kenStart","kenTime","animProp","cssProp","settings","width","active","index","left","top","css","animate","duration","queue","fresh","removeClass","startAuto","call","addClass","height","ratio","p_top","$filler","paddingTop","$slide","on","append","$highest","slides","count","first","last","caption","wrapper","html","show","hide","timer","delay","window","setTimeout","autodelay","setInterval","trigger","unbind","bind","hoverStop","stopAuto","clearInterval","clearTimeout","refresh","moving","old","pos","jump","old_left","old_pos","ref","transitionDuration","opacity","animationDuration","off","one","stop","slide","current","direction","goToSlide","goToNextSlide","goToPrevSlide","click","parseInt","hash","container","complete","getCurrentSlide","getSlideCount","destroySlider","data","removeAttr","before","remove","reloadSlider","extend","wrap","parent","Math","round","random","jQuery"],"mappings":"AAAA;;;;;;;;;;;;GAcC,WAAUA,CAAV,EAAa;AACZ;;AACA,MAAIC,QAAJ;AAEAA,aAAW;AACT;AACAC,oBAAgB,wBAFP;AAEiC;AAC1CC,kBAAc,gCAHL;AAGuC;AAChDC,eAAW,gCAJF;AAIoC;AAC7CC,cAAU,SALD;AAKY;AACrBC,cAAU,IAND;AAMO;AAChBC,iBAAa,WAPJ;AAOiB;AAC1BC,iBAAa,WARJ;AAQiB;AAC1BC,kBAAc,YATL;AAWT;AACAC,oBAAgB,IAZP;AAYa;AACtBC,WAAO,CAbE;AAaC;AACVC,UAAM,IAdG;AAcG;AACZC,iBAAa,KAfJ;AAeW;AACpBC,cAAU,SAhBD;AAgBY;AACrBC,gBAAY,aAjBH;AAiBkB;AAC3BC,gBAAY,IAlBH;AAkBS;AAClBC,gBAAY,IAnBH;AAoBTC,aAAS,SApBA;AAoBW;AAEpB;AACAC,WAAO,IAvBE;AAwBTC,gBAAY,UAxBH;AA0BT;AACAC,cAAU,IA3BD;AA4BTC,kBAAc,aA5BL;AA6BTC,eAAW,SA7BF;AA8BTC,cAAU,UA9BD;AA+BTC,eAAW,SA/BF;AAgCTC,cAAU,MAhCD;AAiCTC,eAAW,IAjCF;AAmCT;AACAC,gBAAY,MApCH;AAoCW;AACpBC,aAAS,GArCA;AAqCK;AACdC,iBAAa,CAtCJ;AAsCO;AAChBC,gBAAY,YAvCH;AAuCiB;AAC1BC,WAAO,GAxCE;AAwCG;AACZC,YAAQ,OAzCC;AAyCQ;AACjBC,gBAAY,IA1CH;AA0CS;AAClBC,YAAQ,IA3CC;AA2CK;AAEd;AACAC,UAAM,IA9CG;AA+CTC,mBAAe,MA/CN;AAgDTC,eAAW,IAhDF;AAiDTC,oBAAgB,GAjDP;AAkDTC,eAAW,GAlDF;AAmDTC,WAAO,IAnDE;AAqDT;AACAC,kBAAc,YAAY;AAAE;AAC1B,aAAO,IAAP;AACD,KAxDQ;AAyDTC,mBAAe,YAAY;AAAE;AAC3B,aAAO,IAAP;AACD,KA3DQ;AA4DTC,kBAAc,YAAY;AAAG;AAC3B,aAAO,IAAP;AACD;AA9DQ,GAAX;;AAiEA5C,IAAE6C,EAAF,CAAKC,OAAL,GAAe,UAAUC,OAAV,EAAmB;AAChC,QAAIC,IAAJ,EAAUC,EAAV,EAAcC,aAAd,EAA6BC,oBAA7B,EAAmDC,IAAnD,EAAyDC,aAAzD,EAAwEC,SAAxE,EAAmFC,YAAnF,EAAiGC,KAAjG,EAAwGC,cAAxG,EAAwHC,oBAAxH,EACEC,YADF,EACgBC,WADhB,EAC6BC,oBAD7B,EACmDC,YADnD,EACiEC,WADjE,EAC8EC,SAD9E,EACyFC,cADzF,EACyGC,SADzG,EACoHC,QADpH,EAC8HjD,OAD9H,EACuIP,KADvI,EAC8IyD,SAD9I,EACyJC,MADzJ,CADgC,CAIhC;;AACApB,SAAK,IAAL,CALgC,CAOhC;;AACA,QAAIA,GAAGqB,MAAH,KAAc,CAAlB,EAAqB;AACnB,aAAO,IAAP;AACD,KAV+B,CAWhC;;;AACA,QAAIrB,GAAGqB,MAAH,GAAY,CAAhB,EAAmB;AACjBrB,SAAGsB,IAAH,CAAQ,YAAY;AAClBvE,UAAE,IAAF,EAAQ8C,OAAR,CAAgBC,OAAhB;AACD,OAFD;AAGA,aAAO,IAAP;AACD,KAjB+B,CAmBhC;;;AACAC,WAAO,EAAP;AACAA,SAAKwB,IAAL,GAAY,EAAZ;;AAEAd,2BAAuB,YAAY;AAAE;AACnC,UAAIe,CAAJ,EAAOC,GAAP,EAAYC,WAAZ;AACAD,YAAME,SAASC,aAAT,CAAuB,KAAvB,CAAN;AACAF,oBAAc;AACZ,4BAAqB,qBADT;AAEZ,yBAAqB,eAFT;AAGZ,wBAAqB,iBAHT;AAIZ,uBAAqB,gBAJT;AAKZ,sBAAqB;AALT,OAAd;;AAOA,WAAKF,CAAL,2CAAUE,WAAV,GAAuB;AACrB,YAAID,IAAII,KAAJ,CAAUL,CAAV,MAAiBM,SAArB,EAAgC;AAC9B,iBAAOJ,YAAYF,CAAZ,CAAP;AACD;AACF;AACF,KAfD;;AAiBAN,eAAY,YAAY;AAAG;AACzB,UAAIO,MAAME,SAASC,aAAT,CAAuB,KAAvB,CAAV;AAAA,UACEG,UAAU,CAAC,OAAD,EAAU,IAAV,EAAgB,GAAhB,EAAqB,KAArB,EAA4B,QAA5B,CADZ;AAAA,UAEEC,MAAMD,QAAQV,MAFhB;AAGA,aAAO,UAAUY,IAAV,EAAgB;AACrB,YAAIA,QAAQR,IAAII,KAAhB,EAAuB;AACrB,iBAAO,IAAP;AACD;;AACDI,eAAOA,KAAKC,OAAL,CAAa,QAAb,EAAuB,UAAUC,GAAV,EAAe;AAC3C,iBAAOA,IAAIC,WAAJ,EAAP;AACD,SAFM,CAAP;;AAGA,eAAOJ,KAAP,EAAc;AACZ,cAAID,QAAQC,GAAR,IAAeC,IAAf,IAAuBR,IAAII,KAA/B,EAAsC;AACpC,mBAAO,IAAP;AACD;AACF;;AACD,eAAO,KAAP;AACD,OAbD;AAcD,KAlBW,EAAZ;;AAoBAV,gBAAY,UAAUkB,GAAV,EAAeJ,IAAf,EAAqB;AAC/B,UAAIK,KAAJ,EAAWC,UAAX,EAAuBC,EAAvB,EAA2BC,SAA3B;AACAH,cAAQL,KAAKS,KAAL,CAAW,GAAX,CAAR;AACAH,mBAAaxF,EAAEsF,GAAF,CAAb;AACAG,WAAK,EAAL;AACAC,kBAAY,EAAZ;AACA1F,QAAEuE,IAAF,CAAOgB,KAAP,EAAc,UAAUK,CAAV,EAAaR,GAAb,EAAkB;AAC9B,YAAIA,IAAIS,OAAJ,CAAY,GAAZ,KAAoB,CAAxB,EAA2B;AACzBJ,gBAAML,IAAID,OAAJ,CAAY,IAAZ,EAAkB,EAAlB,CAAN;AACD,SAFD,MAEO;AACLO,uBAAaN,MAAM,GAAnB;AACD;AACF,OAND;;AAOA,UAAIK,GAAGnB,MAAP,EAAe;AACbkB,mBAAWM,IAAX,CAAgB,IAAhB,EAAsBL,EAAtB;AACD;;AACD,UAAIC,UAAUpB,MAAd,EAAsB;AACpBkB,mBAAWM,IAAX,CAAgB,OAAhB,EAAyB9F,EAAE+F,IAAF,CAAOL,SAAP,CAAzB;AACD;;AACD,aAAOF,UAAP;AACD,KApBD;;AAsBAnB,aAAS,YAAY;AACnB,UAAI2B,QAAJ,EAAcC,OAAd,EAAuBC,QAAvB,EAAiCC,OAAjC;AACAD,iBAAW,EAAX;AACAC,gBAAU,EAAV;AACAH,iBAAW,MAAMhD,KAAKoD,QAAL,CAAcvE,OAA/B;AACAsE,cAAQE,KAAR,GAAgBrD,KAAKoD,QAAL,CAAcvE,OAAd,GAAwB,GAAxC;;AACA,UAAImB,KAAKwB,IAAL,CAAU8B,MAAV,CAAiBC,KAAjB,KAA2B,CAA3B,KAAiC,CAArC,EAAwC;AACtCJ,gBAAQK,IAAR,GAAeR,WAAW,GAA1B;AACAG,gBAAQM,GAAR,GAAcT,WAAW,GAAzB;AACAE,iBAASM,IAAT,GAAgB,IAAhB;AACAN,iBAASO,GAAT,GAAe,IAAf;AACD,OALD,MAKO;AACLN,gBAAQK,IAAR,GAAe,IAAf;AACAL,gBAAQM,GAAR,GAAc,IAAd;AACAP,iBAASM,IAAT,GAAgBR,WAAW,GAA3B;AACAE,iBAASO,GAAT,GAAeT,WAAW,GAA1B;AACD;;AACDC,gBAAUjD,KAAKoD,QAAL,CAAc3D,KAAd,GAAsBO,KAAKoD,QAAL,CAAcpE,KAAd,GAAsB,CAAtD;AACAgB,WAAKwB,IAAL,CAAU8B,MAAV,CAAiBI,GAAjB,CAAqBP,OAArB;AACAnD,WAAKwB,IAAL,CAAU8B,MAAV,CAAiBK,OAAjB,CAAyBT,QAAzB,EAAmC;AAACU,kBAAUX,OAAX;AAAoBhE,gBAAQe,KAAKoD,QAAL,CAAcnE,MAA1C;AAAkD4E,eAAO;AAAzD,OAAnC;AACD,KApBD;;AAsBArD,YAAQ,YAAY;AAClB,UAAIR,KAAKwB,IAAL,CAAUsC,KAAd,EAAqB;AACnB9D,aAAKwB,IAAL,CAAUtE,cAAV,CAAyB6G,WAAzB,CAAqC/D,KAAKoD,QAAL,CAAc3F,YAAnD;AACAuC,aAAKwB,IAAL,CAAUsC,KAAV,GAAkB,KAAlB;;AACA,YAAI9D,KAAKoD,QAAL,CAAchE,IAAlB,EAAwB;AACtBa,aAAG+D,SAAH;AACD;;AACD,YAAI,CAAChE,KAAKoD,QAAL,CAAcjE,MAAf,IAAyBa,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,UAA1D,EAAsE;AACpEyC;AACD;;AACDrB,aAAKoD,QAAL,CAAc1D,YAAd,CAA2BuE,IAA3B,CAAgClC,SAAhC,EAA2C/B,KAAKwB,IAAL,CAAU8B,MAAV,CAAiBC,KAAjB,EAA3C;AACD,OAVD,MAUO;AACLvG,UAAE,MAAMgD,KAAKoD,QAAL,CAAc5F,WAAtB,EAAmCwC,KAAKwB,IAAL,CAAUrE,YAA7C,EAA2D+G,QAA3D,CAAoE,OAApE;AACD;AACF,KAdD;;AAgBArD,2BAAuB,UAAUwC,KAAV,EAAiBc,MAAjB,EAAyB;AAC9C,UAAIC,KAAJ,EAAWC,KAAX,EAAkBC,OAAlB;AACAF,cAAQf,QAAQc,MAAhB;AACAE,cAAQ,IAAID,KAAJ,GAAY,GAAZ,GAAkB,GAA1B,CAH8C,CAGd;;AAChCE,gBAAUtH,EAAE,MAAMgD,KAAKoD,QAAL,CAAc5F,WAAtB,EAAmCwC,KAAKwB,IAAL,CAAUrE,YAA7C,CAAV;AACAmH,cAAQZ,GAAR,CAAY;AAACa,oBAAYF;AAAb,OAAZ,EAL8C,CAKZ;;AAClC7D;AACD,KAPD,CAxHgC,CAiIhC;;;AACAL,2BAAuB,UAAUqE,MAAV,EAAkB;AACvC,UAAInB,KAAJ,EAAWc,MAAX;;AACA,UAAKnH,EAAE,KAAF,EAASwH,MAAT,EAAiB1B,IAAjB,CAAsB,KAAtB,MAAiCf,SAAtC,EAAkD;AAChD/E,UAAE,SAAF,EAAayH,EAAb,CAAgB,MAAhB,EAAwB,YAAY;AAClCpB,kBAAQmB,OAAOnB,KAAP,EAAR;AACAc,mBAASK,OAAOL,MAAP,EAAT;AACAtD,+BAAqBwC,KAArB,EAA4Bc,MAA5B;AACD,SAJD,EAIGrB,IAJH,CAIQ,KAJR,EAIe9F,EAAE,KAAF,EAASwH,MAAT,EAAiB1B,IAAjB,CAAsB,KAAtB,CAJf;AAKD,OAND,MAMO;AACLO,gBAAQmB,OAAOnB,KAAP,EAAR;AACAc,iBAASK,OAAOL,MAAP,EAAT;AACAtD,6BAAqBwC,KAArB,EAA4Bc,MAA5B;AACD;AACF,KAbD,CAlIgC,CAiJhC;;;AACAjE,oBAAgB,YAAY;AAC1B,UAAIlD,EAAE,MAAMgD,KAAKoD,QAAL,CAAc5F,WAAtB,EAAmCwC,KAAKwB,IAAL,CAAUrE,YAA7C,EAA2DmE,MAA3D,KAAsE,CAA1E,EAA6E;AAC3EtB,aAAKwB,IAAL,CAAUrE,YAAV,CAAuBuH,MAAvB,CAA8B1H,EAAE,iBAAiBgD,KAAKoD,QAAL,CAAc5F,WAA/B,GAA6C,MAA/C,CAA9B;AACD;;AACD,UAAIwC,KAAKoD,QAAL,CAAc1F,cAAd,KAAiC,IAArC,EAA2C;AAAG;AAC5CyC,6BAAqBnD,EAAE,MAAMgD,KAAKoD,QAAL,CAAc7F,WAAtB,EAAmC0C,EAAnC,CAArB,EADyC,CACsB;AAChE,OAFD,MAEO;AAAG;AACR,YAAI0E,QAAJ,EAAcR,MAAd,EAAsBvG,IAAtB;AACAuG,iBAAS,CAAT;AACAvG,eAAO,CAAP;AACAZ,UAAEgD,KAAKwB,IAAL,CAAUoD,MAAZ,EAAoBrD,IAApB,CAAyB,YAAY;AACnC,cAAIvE,EAAE,IAAF,EAAQmH,MAAR,KAAmBA,MAAvB,EAA+B;AAC7BQ,uBAAW3H,EAAE,IAAF,CAAX;AACAmH,qBAASQ,SAASR,MAAT,EAAT;AACD;;AACDvG,iBAAOA,OAAO,CAAd;;AACA,cAAIA,SAASoC,KAAKwB,IAAL,CAAUqD,KAAvB,EAA8B;AAC5B,gBAAIF,aAAa5C,SAAjB,EAA4B;AAC1B4C,yBAAW3H,EAAEA,EAAEgD,KAAKwB,IAAL,CAAUoD,MAAZ,EAAoB,CAApB,CAAF,CAAX;AACD;;AACDzE,iCAAqBwE,QAArB;AACD;AACF,SAZD;AAaD;AACF,KAxBD;;AA0BA/D,kBAAc,YAAY;AACxB,UAAIZ,KAAKoD,QAAL,CAAcjF,KAAlB,EAAyB;AACvBnB,UAAE,MAAMgD,KAAKoD,QAAL,CAAchF,UAApB,GAAiC,KAAnC,EAA0C4B,KAAKwB,IAAL,CAAUtE,cAApD,EAAoE6G,WAApE,CAAgF/D,KAAKoD,QAAL,CAAc7F,WAA9F;AACAP,UAAEA,EAAE,MAAMgD,KAAKoD,QAAL,CAAchF,UAApB,GAAiC,KAAnC,EAA0C4B,KAAKwB,IAAL,CAAUtE,cAApD,EAAoE8C,KAAKwB,IAAL,CAAU8B,MAAV,CAAiBC,KAAjB,EAApE,CAAF,EAAiGW,QAAjG,CAA0GlE,KAAKoD,QAAL,CAAc7F,WAAxH;AACD;AACF,KALD;;AAOA0D,qBAAiB,YAAY;AAC3B,UAAI,CAACjB,KAAKoD,QAAL,CAAcxF,IAAf,IAAuBoC,KAAKoD,QAAL,CAAczE,SAAzC,EAAoD;AAClD3B,UAAE,MAAMgD,KAAKoD,QAAL,CAAc7E,SAAtB,EAAiCyB,KAAKwB,IAAL,CAAUtE,cAA3C,EAA2D8C,KAAKwB,IAAL,CAAUsD,KAAV,GAAkB,MAAlB,GAA2B,MAAtF;AACA9H,UAAE,MAAMgD,KAAKoD,QAAL,CAAc3E,SAAtB,EAAiCuB,KAAKwB,IAAL,CAAUtE,cAA3C,EAA2D8C,KAAKwB,IAAL,CAAUuD,IAAV,GAAiB,MAAjB,GAA0B,MAArF;AACD;AACF,KALD;;AAOA1E,oBAAgB,YAAY;AAC1B,UAAI2E,OAAJ,EAAaC,OAAb;;AACA,UAAIjF,KAAKoD,QAAL,CAActF,QAAd,KAA2B,KAA/B,EAAsC;AACpC,YAAIkC,KAAKoD,QAAL,CAAcvF,WAAd,KAA8B,KAAlC,EAAyC;AACvCmH,oBAAUhF,KAAKwB,IAAL,CAAU8B,MAAV,CAAiBR,IAAjB,CAAsB,OAAtB,CAAV;AACD,SAFD,MAEO;AACLkC,oBAAUhI,EAAE,KAAF,EAASgD,KAAKwB,IAAL,CAAU8B,MAAnB,EAA2BR,IAA3B,CAAgC,OAAhC,MAA6Cf,SAA7C,GAAyD/E,EAAE,KAAF,EAASgD,KAAKwB,IAAL,CAAU8B,MAAnB,EAA2BR,IAA3B,CAAgC,OAAhC,CAAzD,GAAoG9F,EAAE,KAAF,EAASgD,KAAKwB,IAAL,CAAU8B,MAAnB,EAA2BR,IAA3B,CAAgC,KAAhC,CAA9G;AACD;;AACD,YAAI9C,KAAKoD,QAAL,CAActF,QAAd,KAA2B,QAA/B,EAAyC;AACvCmH,oBAAUjI,EAAEgD,KAAKoD,QAAL,CAAcrF,UAAhB,EAA4BiC,KAAKwB,IAAL,CAAUtE,cAAtC,CAAV;AACD,SAFD,MAEO;AACL+H,oBAAUjI,EAAEgD,KAAKoD,QAAL,CAAcrF,UAAhB,CAAV;AACD;;AACD,YAAKiH,YAAYjD,SAAb,IAA4BiD,YAAY,EAA5C,EAAiD;AAC/CC,kBAAQC,IAAR,CAAaF,OAAb,EAAsBG,IAAtB;AACD,SAFD,MAEO;AACLF,kBAAQG,IAAR;AACD;AACF;AACF,KAnBD;;AAqBAnF,OAAG+D,SAAH,GAAe,YAAY;AACzB,UAAKhE,KAAKwB,IAAL,CAAU6D,KAAV,KAAoBtD,SAArB,IAAoC/B,KAAKwB,IAAL,CAAU8D,KAAV,KAAoBvD,SAA5D,EAAwE;AACtE/B,aAAKwB,IAAL,CAAU8D,KAAV,GAAkBC,OAAOC,UAAP,CAAkB,YAAY;AAC9CxF,eAAKwB,IAAL,CAAUiE,SAAV,GAAsB,KAAtB;AACAzF,eAAKwB,IAAL,CAAU6D,KAAV,GAAkBE,OAAOG,WAAP,CAAmB,YAAY;AAC/C1F,iBAAKwB,IAAL,CAAUmE,OAAV,GAAoB,MAApB;AACA3E,sBAAUhB,KAAKoD,QAAL,CAAc/D,aAAxB;AACD,WAHiB,EAGfW,KAAKoD,QAAL,CAAc3D,KAHC,CAAlB;AAID,SANiB,EAMfO,KAAKwB,IAAL,CAAUiE,SAAV,GAAsBzF,KAAKoD,QAAL,CAAc7D,cAApC,GAAqDS,KAAKoD,QAAL,CAAc5D,SANpD,CAAlB;;AAOA,YAAIQ,KAAKoD,QAAL,CAAc9D,SAAlB,EAA6B;AAC3BU,eAAKwB,IAAL,CAAUrE,YAAV,CAAuByI,MAAvB,CAA8B,YAA9B,EAA4CA,MAA5C,CAAmD,YAAnD,EAAiEC,IAAjE,CAAsE,YAAtE,EAAoF,YAAY;AAC9F,gBAAI7F,KAAKwB,IAAL,CAAU6D,KAAV,KAAoBtD,SAAxB,EAAmC;AACjC/B,mBAAKwB,IAAL,CAAUsE,SAAV,GAAsB,IAAtB;AACA7F,iBAAG8F,QAAH;AACD,aAHD,MAGO;AACL/F,mBAAKwB,IAAL,CAAUsE,SAAV,GAAsB,KAAtB;AACD;AACF,WAPD,EAOGD,IAPH,CAOQ,YAPR,EAOsB,YAAY;AAChC,gBAAI7F,KAAKwB,IAAL,CAAUsE,SAAd,EAAyB;AACvB9F,mBAAKwB,IAAL,CAAUiE,SAAV,GAAsB,IAAtB;AACAxF,iBAAG+D,SAAH;AACD;AACF,WAZD;AAaD;AACF;AACF,KAzBD;;AA2BA/D,OAAG8F,QAAH,GAAc,YAAY;AACxBR,aAAOS,aAAP,CAAqBhG,KAAKwB,IAAL,CAAU6D,KAA/B;AACArF,WAAKwB,IAAL,CAAU6D,KAAV,GAAkBtD,SAAlB;AACAwD,aAAOU,YAAP,CAAoBjG,KAAKwB,IAAL,CAAU8D,KAA9B;AACAtF,WAAKwB,IAAL,CAAU8D,KAAV,GAAkBvD,SAAlB;AACD,KALD,CA1OgC,CAiPhC;;;AACA9B,OAAGiG,OAAH,GAAa,YAAY;AACvBlG,WAAKwB,IAAL,CAAUoD,MAAV,CAAiBb,WAAjB,CAA6B/D,KAAKoD,QAAL,CAAc7F,WAA3C;AACAyC,WAAKwB,IAAL,CAAU8B,MAAV,CAAiBY,QAAjB,CAA0BlE,KAAKoD,QAAL,CAAc7F,WAAxC;;AACA,UAAIyC,KAAKoD,QAAL,CAAcnF,UAAlB,EAA8B;AAC5BiC;AACD,OAFD,MAEO;AACLM;AACD;;AACDS;AACAL;AACAP;AACD,KAXD;;AAaAU,kBAAc,YAAY;AACxBd,SAAGiG,OAAH;AACD,KAFD;;AAIAzF,qBAAiB,YAAY;AAC3BT,WAAKwB,IAAL,CAAU2E,MAAV,GAAmB,KAAnB;AACAnG,WAAKwB,IAAL,CAAU8B,MAAV,CAAiBS,WAAjB,CAA6B/D,KAAKoD,QAAL,CAAcrE,UAA3C;;AACA,UAAI,CAACiB,KAAKwB,IAAL,CAAUsC,KAAf,EAAsB;AACpB9D,aAAKwB,IAAL,CAAU4E,GAAV,CAAcrC,WAAd,CAA0B,QAA1B;AACD;;AACD/D,WAAKwB,IAAL,CAAU4E,GAAV,CAAcrC,WAAd,CAA0B/D,KAAKoD,QAAL,CAAcrE,UAAxC;AACAiB,WAAKoD,QAAL,CAAcxD,YAAd,CAA2BqE,IAA3B,CAAgClC,SAAhC,EAA2C/B,KAAKwB,IAAL,CAAU8B,MAArD,EAA6DtD,KAAKwB,IAAL,CAAU4E,GAAV,CAAc7C,KAAd,EAA7D,EAAoFvD,KAAKwB,IAAL,CAAU8B,MAAV,CAAiBC,KAAjB,EAApF;;AACA,UAAIvD,KAAKoD,QAAL,CAAchE,IAAlB,EAAwB;AACtB,YAAI,CAACY,KAAKwB,IAAL,CAAUsE,SAAX,IAAwB9F,KAAKwB,IAAL,CAAUsE,SAAV,KAAwB/D,SAApD,EAA8D;AAC5D9B,aAAG+D,SAAH;AACD;AACF;AACF,KAbD;;AAeAlD,mBAAe,YAAY;AACzB,UAAIuF,GAAJ,EAASC,IAAT,EAAeC,QAAf,EAAyBC,OAAzB,EAAkCvD,OAAlC,EAA2CwD,GAA3C,EAAgDtD,OAAhD;AACAnD,WAAKoD,QAAL,CAAczD,aAAd,CAA4BsE,IAA5B,CAAiClC,SAAjC,EAA4C/B,KAAKwB,IAAL,CAAU8B,MAAtD,EAA8DtD,KAAKwB,IAAL,CAAU4E,GAAV,CAAc7C,KAAd,EAA9D,EAAqFvD,KAAKwB,IAAL,CAAU8B,MAAV,CAAiBC,KAAjB,EAArF;;AACA,UAAIvD,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,KAAjC,EAAwC;AACtCoB,aAAKwB,IAAL,CAAU2E,MAAV,GAAmB,IAAnB;;AACA,YAAKnG,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,MAA9B,IAA0CoB,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,UAA3E,EAAwF;AACtF,cAAIoB,KAAKwB,IAAL,CAAUsC,KAAd,EAAqB;AACnB,gBAAI9D,KAAKoD,QAAL,CAAcjE,MAAlB,EAA0B;AACxBa,mBAAKwB,IAAL,CAAUoD,MAAV,CAAiBlB,GAAjB,CAAqB;AAACgD,oCAAoB1G,KAAKoD,QAAL,CAAcpE,KAAd,GAAsB,IAA3C;AAAiD2H,yBAAS;AAA1D,eAArB;AACD,aAFD,MAEO;AACL3G,mBAAKwB,IAAL,CAAUoD,MAAV,CAAiBlB,GAAjB,CAAqB;AAACiD,yBAAS;AAAV,eAArB;AACD;;AACD3G,iBAAKwB,IAAL,CAAU8B,MAAV,CAAiBI,GAAjB,CAAqB,SAArB,EAAgC,CAAhC;;AACA,gBAAI1D,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,UAAjC,EAA6C;AAC3C,kBAAIoB,KAAKoD,QAAL,CAAcjE,MAAlB,EAA0B;AACxB8D,0BAAUjD,KAAKoD,QAAL,CAAc3D,KAAd,GAAsBO,KAAKoD,QAAL,CAAcpE,KAAd,GAAsB,CAAtD;AACAgB,qBAAKwB,IAAL,CAAUoD,MAAV,CAAiBlB,GAAjB,CAAqB;AAACkD,qCAAmB3D,UAAU;AAA9B,iBAArB;AACAjD,qBAAKwB,IAAL,CAAU8B,MAAV,CAAiBY,QAAjB,CAA0B,QAA1B;AACD;AACF;;AACDzD;AACD,WAfD,MAeO;AACL,gBAAIT,KAAKoD,QAAL,CAAcjE,MAAlB,EAA0B;AACxBa,mBAAKwB,IAAL,CAAU4E,GAAV,CAAclC,QAAd,CAAuBlE,KAAKoD,QAAL,CAAcrE,UAArC,EAAiD2E,GAAjD,CAAqD,SAArD,EAAgE,CAAhE;AACA1D,mBAAKwB,IAAL,CAAU8B,MAAV,CAAiBY,QAAjB,CAA0BlE,KAAKoD,QAAL,CAAcrE,UAAxC,EAAoD2E,GAApD,CAAwD,SAAxD,EAAmE,CAAnE;;AACA,kBAAI1D,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,UAAjC,EAA6C;AAC3CoB,qBAAKwB,IAAL,CAAU8B,MAAV,CAAiBY,QAAjB,CAA0B,QAA1B;AACD;;AACDlH,gBAAEuI,MAAF,EAAUsB,GAAV,CAAc,OAAd,EAAuBpC,EAAvB,CAA0B,OAA1B,EAAmC,YAAY;AAAE;AAC/C,oBAAIzE,KAAKwB,IAAL,CAAU2E,MAAd,EAAsB;AACpBnG,uBAAKwB,IAAL,CAAU4E,GAAV,CAAcT,OAAd,CAAsB3F,KAAKwB,IAAL,CAAU5C,UAAhC;AACD;AACF,eAJD;AAKAoB,mBAAKwB,IAAL,CAAU4E,GAAV,CAAcU,GAAd,CAAkB9G,KAAKwB,IAAL,CAAU5C,UAA5B,EAAwC,YAAY;AAClD6B;AACA,uBAAO,IAAP;AACD,eAHD;AAID,aAfD,MAeO;AACL,kBAAIT,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,UAAjC,EAA6C;AAC3CyC;AACD;;AACDrB,mBAAKwB,IAAL,CAAU4E,GAAV,CAAclC,QAAd,CAAuBlE,KAAKoD,QAAL,CAAcrE,UAArC,EAAiD4E,OAAjD,CAAyD;AACvDgD,yBAAS;AAD8C,eAAzD,EAEG3G,KAAKoD,QAAL,CAAcpE,KAFjB,EAEwBgB,KAAKoD,QAAL,CAAcnE,MAFtC,EAE8C,YAAY;AACxDwB;AACD,eAJD;AAKAT,mBAAKwB,IAAL,CAAU8B,MAAV,CAAiBY,QAAjB,CAA0BlE,KAAKoD,QAAL,CAAcrE,UAAxC,EAAoD2E,GAApD,CAAwD,SAAxD,EAAmE,CAAnE,EAAsEC,OAAtE,CAA8E;AAC5EgD,yBAAS;AADmE,eAA9E,EAEG3G,KAAKoD,QAAL,CAAcpE,KAFjB,EAEwBgB,KAAKoD,QAAL,CAAcnE,MAFtC;AAGD;AACF;;AACD8B;AACD,SA/CD,MA+CO,IAAKf,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,YAA9B,IAAgDoB,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,UAAjF,EAA8F;AACnG6H,gBAAOzG,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,YAA9B,GAA8C,MAA9C,GAAuD,KAA7D;AACAyH,gBAAM,MAAMrG,KAAKwB,IAAL,CAAU8B,MAAV,CAAiBC,KAAjB,MAA4B,MAAMvD,KAAKoD,QAAL,CAActE,WAAhD,CAAN,GAAqE,GAA3E;;AACA,cAAIkB,KAAKwB,IAAL,CAAUsC,KAAd,EAAqB;AACnB7D,eAAGyD,GAAH,CAAO+C,GAAP,EAAYJ,GAAZ;AACA5F;AACD,WAHD,MAGO;AACL0C,sBAAU,EAAV;;AACA,gBAAInD,KAAKoD,QAAL,CAAclE,UAAlB,EAA8B;AAC5B,kBAAIc,KAAKwB,IAAL,CAAU8E,IAAV,KAAoBtG,KAAKwB,IAAL,CAAUmE,OAAV,KAAsB,UAAvB,IAAuC3F,KAAKwB,IAAL,CAAUmE,OAAV,KAAsB,MAAhF,CAAJ,EAA8F;AAC5FW,uBAAO,IAAP;AACAE,0BAAUH,GAAV;;AACA,oBAAIrG,KAAKwB,IAAL,CAAUsD,KAAd,EAAqB;AACnByB,6BAAW,CAAX;AACAvG,uBAAKwB,IAAL,CAAU8B,MAAV,CAAiBI,GAAjB,CAAqB+C,GAArB,EAA0BzG,KAAKwB,IAAL,CAAUqD,KAAV,IAAmB,MAAM7E,KAAKoD,QAAL,CAActE,WAAvC,IAAsD,GAAhF;AACAuH,wBAAM,MAAMrG,KAAKwB,IAAL,CAAUqD,KAAV,IAAmB,MAAM7E,KAAKoD,QAAL,CAActE,WAAvC,CAAN,GAA4D,GAAlE;AACD,iBAJD,MAIO;AACLyH,6BAAW,CAACvG,KAAKwB,IAAL,CAAUqD,KAAV,GAAkB,CAAnB,KAAyB,MAAM7E,KAAKoD,QAAL,CAActE,WAA7C,IAA4D,GAAvE;AACAkB,uBAAKwB,IAAL,CAAU8B,MAAV,CAAiBI,GAAjB,CAAqB+C,GAArB,EAA0B,EAAE,MAAMzG,KAAKoD,QAAL,CAActE,WAAtB,IAAqC,GAA/D;AACAuH,wBAAO,MAAMrG,KAAKoD,QAAL,CAActE,WAArB,GAAoC,GAA1C;AACD;AACF;AACF;;AACDkB,iBAAKwB,IAAL,CAAU8B,MAAV,CAAiBY,QAAjB,CAA0BlE,KAAKoD,QAAL,CAAcrE,UAAxC;;AACA,gBAAIiB,KAAKoD,QAAL,CAAcjE,MAAlB,EAA0B;AACxBgE,sBAAQsD,GAAR,IAAeJ,GAAf;AACAlD,sBAAQuD,kBAAR,GAA6B1G,KAAKoD,QAAL,CAAcpE,KAAd,GAAsB,IAAnD;AACAiB,iBAAGiE,QAAH,CAAYlE,KAAKoD,QAAL,CAAcxE,UAA1B;AACAqB,iBAAGyD,GAAH,CAAOP,OAAP;AACAnG,gBAAEuI,MAAF,EAAUsB,GAAV,CAAc,OAAd,EAAuBpC,EAAvB,CAA0B,OAA1B,EAAmC,YAAY;AAAE;AAC/C,oBAAIzE,KAAKwB,IAAL,CAAU2E,MAAd,EAAsB;AACpBlG,qBAAG0F,OAAH,CAAW3F,KAAKwB,IAAL,CAAU5C,UAArB;AACD;AACF,eAJD;AAKAqB,iBAAG6G,GAAH,CAAO9G,KAAKwB,IAAL,CAAU5C,UAAjB,EAA6B,YAAY;AACvCqB,mBAAG8D,WAAH,CAAe/D,KAAKoD,QAAL,CAAcxE,UAA7B;;AACA,oBAAI0H,IAAJ,EAAU;AACRtG,uBAAKwB,IAAL,CAAU8B,MAAV,CAAiBI,GAAjB,CAAqB+C,GAArB,EAA0BF,QAA1B;AACApD,0BAAQsD,GAAR,IAAeD,OAAf;AACArD,0BAAQuD,kBAAR,GAA6B,KAA7B;AACAzG,qBAAGyD,GAAH,CAAOP,OAAP;AACD;;AACD1C;AACA,uBAAO,IAAP;AACD,eAVD;AAWD,aArBD,MAqBO;AACL0C,sBAAQsD,GAAR,IAAeJ,GAAf;AACApG,iBAAG8G,IAAH,GAAUpD,OAAV,CAAkBR,OAAlB,EAA2BnD,KAAKoD,QAAL,CAAcpE,KAAzC,EAAgDgB,KAAKoD,QAAL,CAAcnE,MAA9D,EAAsE,YAAY;AAChF,oBAAIqH,IAAJ,EAAU;AACRtG,uBAAKwB,IAAL,CAAU8B,MAAV,CAAiBI,GAAjB,CAAqB+C,GAArB,EAA0BF,QAA1B;AACAtG,qBAAGyD,GAAH,CAAO+C,GAAP,EAAYD,OAAZ;AACD;;AACD/F;AACA,uBAAO,IAAP;AACD,eAPD;AAQD;AACF;;AACDM;AACD;AACF,OA5GD,MA4GO;AACLA;AACAN;AACD;AACF,KAnHD;;AAqHAS,gBAAY,UAAU8F,KAAV,EAAiB;AAC3BhH,WAAKwB,IAAL,CAAUsD,KAAV,GAAkB9E,KAAKwB,IAAL,CAAUuD,IAAV,GAAiB,KAAnC;;AACA,UAAKiC,UAAU,MAAX,IAAuBA,UAAU,CAArC,EAAyC;AACvChH,aAAKwB,IAAL,CAAUsD,KAAV,GAAkB,IAAlB;AACD,OAFD,MAEO,IAAKkC,UAAU,MAAX,IAAuBA,UAAUhH,KAAKwB,IAAL,CAAUqD,KAAV,GAAkB,CAAvD,EAA2D;AAChE7E,aAAKwB,IAAL,CAAUuD,IAAV,GAAiB,IAAjB;AACD;AACF,KAPD;;AASA/D,gBAAY,UAAUgG,KAAV,EAAiB;AAC3B,UAAIC,OAAJ,EAAaC,SAAb;;AACA,UAAI,CAAClH,KAAKwB,IAAL,CAAU2E,MAAf,EAAuB;AACrB,YAAInG,KAAKwB,IAAL,CAAUmE,OAAV,KAAsB,MAA1B,EAAkC;AAChC1F,aAAG8F,QAAH;AACD;;AACDkB,kBAAUjH,KAAKwB,IAAL,CAAU8B,MAAV,CAAiBC,KAAjB,EAAV;;AACA,YAAIyD,UAAU,MAAd,EAAsB;AACpBE,sBAAYF,KAAZ;;AACA,cAAIC,UAAU,CAAd,EAAiB;AACfD,oBAAQC,UAAU,CAAlB;AACD,WAFD,MAEO,IAAIjH,KAAKoD,QAAL,CAAcxF,IAAlB,EAAwB;AAC7BoJ,oBAAQhH,KAAKwB,IAAL,CAAUqD,KAAV,GAAkB,CAA1B;AACD;AACF,SAPD,MAOO,IAAImC,UAAU,MAAd,EAAsB;AAC3BE,sBAAYF,KAAZ;;AACA,cAAIC,UAAUjH,KAAKwB,IAAL,CAAUqD,KAAV,GAAkB,CAAhC,EAAmC;AACjCmC,oBAAQC,UAAU,CAAlB;AACD,WAFD,MAEO,IAAIjH,KAAKoD,QAAL,CAAcxF,IAAlB,EAAwB;AAC7BoJ,oBAAQ,CAAR;AACD;AACF,SAPM,MAOA;AACLA,kBAAQA,QAAQ,CAAhB;AACAE,sBAAYF,QAAQC,OAAR,GAAkB,MAAlB,GAA2B,MAAvC;AACD;;AACDjH,aAAKwB,IAAL,CAAU8E,IAAV,GAAiB,KAAjB;;AACA,YAAKU,UAAU,MAAX,IAAuBA,UAAU,MAAjC,KAA8CA,UAAUC,OAAX,IAAwBjH,KAAKwB,IAAL,CAAUsC,KAA/E,CAAJ,EAA4F;AAC1F5C,oBAAU8F,KAAV;AACAhH,eAAKwB,IAAL,CAAU4E,GAAV,GAAgBpG,KAAKwB,IAAL,CAAU8B,MAA1B;AACAtD,eAAKwB,IAAL,CAAU8B,MAAV,GAAmBtG,EAAEgD,KAAKwB,IAAL,CAAUoD,MAAV,CAAiBoC,KAAjB,CAAF,CAAnB;;AACA,cAAMC,YAAY,CAAb,IAAoBC,cAAc,MAAnC,IAAiDD,YAAYjH,KAAKwB,IAAL,CAAUqD,KAAV,GAAkB,CAA/B,IAAsCqC,cAAc,MAAxG,EAAkH;AAChHlH,iBAAKwB,IAAL,CAAU8E,IAAV,GAAiB,IAAjB;AACD;;AACDxF;AACD;AACF;AACF,KApCD;;AAsCAb,OAAGkH,SAAH,GAAe,UAAUH,KAAV,EAAiB;AAC9BhH,WAAKwB,IAAL,CAAUmE,OAAV,GAAoB,UAApB;AACA3E,gBAAUgG,KAAV;AACD,KAHD;;AAKA/G,OAAGmH,aAAH,GAAmB,YAAY;AAC7BpH,WAAKwB,IAAL,CAAUmE,OAAV,GAAoB,UAApB;AACA3E,gBAAU,MAAV;AACD,KAHD;;AAKAf,OAAGoH,aAAH,GAAmB,YAAY;AAC7BrH,WAAKwB,IAAL,CAAUmE,OAAV,GAAoB,UAApB;AACA3E,gBAAU,MAAV;AACD,KAHD;;AAKAV,gBAAY,YAAY;AACtB,UAAKN,KAAKoD,QAAL,CAAcjF,KAAf,IAA0B6B,KAAKwB,IAAL,CAAUqD,KAAV,GAAkB,CAAhD,EAAoD;AAClD,YAAIA,KAAJ,EAAWjH,IAAX,EAAiBO,KAAjB;AACA0G,gBAAQ7E,KAAKwB,IAAL,CAAUoD,MAAV,CAAiBtD,MAAzB;AACAnD,gBAAQnB,EAAE,gBAAgBgD,KAAKoD,QAAL,CAAchF,UAA9B,GAA2C,MAA7C,CAAR;;AACA,aAAKR,OAAO,CAAZ,EAAeA,OAAOiH,QAAQ,CAA9B,EAAiCjH,OAAOA,OAAO,CAA/C,EAAkD;AAChDO,gBAAMuG,MAAN,CAAa1H,EAAE,QAAF,EAAY0H,MAAZ,CAAmB1H,EAAE,eAAeY,IAAf,GAAsB,IAAtB,GAA6BA,IAA7B,GAAoC,MAAtC,CAAnB,CAAb;AACD;;AACDoC,aAAKwB,IAAL,CAAUtE,cAAV,CAAyBwH,MAAzB,CAAgCvG,KAAhC;AACAnB,UAAE,MAAMgD,KAAKoD,QAAL,CAAchF,UAApB,GAAiC,IAAnC,EAAyC4B,KAAKwB,IAAL,CAAUtE,cAAnD,EAAmEoK,KAAnE,CAAyE,YAAY;AACnFtH,eAAKwB,IAAL,CAAUmE,OAAV,GAAoB,OAApB;AACA3E,oBAAUuG,SAAS,KAAKC,IAAL,CAAU7E,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAT,EAAkC,EAAlC,CAAV;AACA,iBAAO,KAAP;AACD,SAJD;AAKA/B;AACD;AACF,KAhBD;;AAkBAL,mBAAe,YAAY;AACzB,UAAKP,KAAKoD,QAAL,CAAc/E,QAAf,IAA6B2B,KAAKwB,IAAL,CAAUqD,KAAV,GAAkB,CAAnD,EAAuD;AACrD7E,aAAKwB,IAAL,CAAUrE,YAAV,CAAuBuH,MAAvB,CACE1H,EAAE,gBAAgBgD,KAAKoD,QAAL,CAAc9E,YAA9B,GAA6C,MAA/C,EACGoG,MADH,CACU,gBAAgB1E,KAAKoD,QAAL,CAAc7E,SAA9B,GAA0C,oBAA1C,GAAiEyB,KAAKoD,QAAL,CAAc5E,QAA/E,GAA0F,WADpG,EAEGkG,MAFH,CAEU,gBAAgB1E,KAAKoD,QAAL,CAAc3E,SAA9B,GAA0C,oBAA1C,GAAiEuB,KAAKoD,QAAL,CAAc1E,QAA/E,GAA0F,WAFpG,CADF;AAKA1B,UAAE,MAAMgD,KAAKoD,QAAL,CAAc9E,YAApB,GAAmC,IAArC,EAA2C0B,KAAKwB,IAAL,CAAUtE,cAArD,EAAqEoK,KAArE,CAA2E,YAAY;AACrFtH,eAAKwB,IAAL,CAAUmE,OAAV,GAAoB,UAApB;AACA3E,oBAAU,KAAKwG,IAAL,CAAU7E,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAV;AACA,iBAAO,KAAP;AACD,SAJD;AAKA1B;AACD;AACF,KAdD;;AAgBAN,mBAAe,YAAY;AACzB,UAAIX,KAAKoD,QAAL,CAActF,QAAd,KAA2B,KAA/B,EAAsC;AACpC,YAAIkC,KAAKoD,QAAL,CAActF,QAAd,KAA2B,SAA/B,EAA0C;AACxCkC,eAAKwB,IAAL,CAAUrE,YAAV,CAAuBuH,MAAvB,CAA8B1H,EAAE,iCAAF,EAAqCkI,IAArC,CAA0C9D,UAAU,SAAV,EAAqBpB,KAAKoD,QAAL,CAAcrF,UAAnC,CAA1C,CAA9B;AACD,SAFD,MAEO,IAAIiC,KAAKoD,QAAL,CAActF,QAAd,KAA2B,OAA/B,EAAwC;AAC7CkC,eAAKwB,IAAL,CAAUtE,cAAV,CAAyBwH,MAAzB,CAAgC1H,EAAE,iCAAF,EAAqCkI,IAArC,CAA0C9D,UAAU,SAAV,EAAqBpB,KAAKoD,QAAL,CAAcrF,UAAnC,CAA1C,CAAhC;AACD;AACF;AACF,KARD,CAvegC,CAifhC;;;AACAJ,YAAQ,YAAY;AAClBqD,gBAAUhB,KAAKwB,IAAL,CAAU8B,MAAV,CAAiBC,KAAjB,KAA2B,CAArC;AACD,KAFD,CAlfgC,CAsfhC;;;AACArF,cAAU,UAAU0G,MAAV,EAAkB;AAC1B,UAAIC,KAAJ,EAAWjH,IAAX,EAAiBN,QAAjB,EAA2BmK,SAA3B;AACAA,kBAAazH,KAAKoD,QAAL,CAAclF,OAAd,KAA0B,KAA3B,GAAoC0G,MAApC,GAA6C5E,KAAKwB,IAAL,CAAU8B,MAAnE;AACAhG,iBAAWN,EAAE,aAAF,EAAiByK,SAAjB,CAAX;AACA5C,cAAQvH,SAASgE,MAAjB;;AACA,UAAIuD,UAAU,CAAd,EAAiB;AACflH;AACA;AACD;;AACDC,aAAO,CAAP;AACAN,eAASiE,IAAT,CAAc,YAAY;AACxBvE,UAAE,IAAF,EAAQ8J,GAAR,CAAY,YAAZ,EAA0B,YAAY;AACpC,cAAI,EAAElJ,IAAF,KAAWiH,KAAf,EAAsB;AACpBlH;AACD;AACF,SAJD,EAIG4D,IAJH,CAIQ,YAAY;AAClB,cAAI,KAAKmG,QAAT,EAAmB;AACjB1K,cAAE,IAAF,EAAQ2I,OAAR,CAAgB,MAAhB;AACD;AACF,SARD;AASD,OAVD;AAWD,KArBD;;AAuBA1F,OAAG0H,eAAH,GAAqB,YAAY;AAC/B,aAAO3H,KAAKwB,IAAL,CAAU8B,MAAjB;AACD,KAFD;;AAIArD,OAAG2H,aAAH,GAAmB,YAAY;AAC7B,aAAO5H,KAAKwB,IAAL,CAAUqD,KAAjB;AACD,KAFD;;AAIA5E,OAAG4H,aAAH,GAAmB,YAAY;AAC7B,UAAI7H,KAAKwB,IAAL,CAAUsC,KAAV,KAAoB,KAAxB,EAA+B;AAC7B7D,WAAG8F,QAAH;AACA/F,aAAKwB,IAAL,CAAU2E,MAAV,GAAmB,KAAnB;AACAnG,aAAKwB,IAAL,CAAUoD,MAAV,CAAiBrD,IAAjB,CAAsB,YAAY;AAChC,cAAIvE,EAAE,IAAF,EAAQ8K,IAAR,CAAa,aAAb,MAAgC/F,SAApC,EAA+C;AAC7C/E,cAAE,IAAF,EAAQ8F,IAAR,CAAa,OAAb,EAAsB9F,EAAE,IAAF,EAAQ8K,IAAR,CAAa,aAAb,CAAtB;AACD,WAFD,MAEO;AACL9K,cAAE,IAAF,EAAQ+K,UAAR,CAAmB,OAAnB;AACD;;AACD,cAAI/K,EAAE,IAAF,EAAQ8K,IAAR,CAAa,eAAb,MAAkC/F,SAAtC,EAAiD;AAC/C/E,cAAE,IAAF,EAAQ8F,IAAR,CAAa,OAAb,EAAsB9F,EAAE,IAAF,EAAQ8K,IAAR,CAAa,eAAb,CAAtB;AACD,WAFD,MAEO;AACL9K,cAAE,IAAF,EAAQ+K,UAAR,CAAmB,OAAnB;AACD;AACF,SAXD;;AAYA,YAAI9H,GAAG6H,IAAH,CAAQ,aAAR,MAA2B/F,SAA/B,EAA0C;AACxC9B,aAAG6C,IAAH,CAAQ,OAAR,EAAiB7C,GAAG6H,IAAH,CAAQ,aAAR,CAAjB;AACD,SAFD,MAEO;AACL7H,aAAG8H,UAAH,CAAc,OAAd;AACD;;AACD,YAAI9H,GAAG6H,IAAH,CAAQ,eAAR,MAA6B/F,SAAjC,EAA4C;AAC1C9B,aAAG6C,IAAH,CAAQ,OAAR,EAAiB7C,GAAG6H,IAAH,CAAQ,eAAR,CAAjB;AACD,SAFD,MAEO;AACL7H,aAAG8H,UAAH,CAAc,OAAd;AACD;;AACD/H,aAAKwB,IAAL,CAAUtE,cAAV,CAAyB8K,MAAzB,CAAgC/H,EAAhC;AACAD,aAAKwB,IAAL,CAAUtE,cAAV,CAAyB+K,MAAzB;AACAjI,aAAKwB,IAAL,CAAUsC,KAAV,GAAkB/B,SAAlB;AACD;AACF,KA9BD;;AAgCA9B,OAAGiI,YAAH,GAAkB,YAAY;AAC5BjI,SAAG4H,aAAH;AACAzH;AACD,KAHD,CAtjBgC,CA2jBhC;;;AACAA,WAAO,YAAY;AACjB,UAAI0E,KAAJ;AACA9E,WAAKoD,QAAL,GAAgBpG,EAAEmL,MAAF,CAAS,EAAT,EAAalL,QAAb,EAAuB8C,OAAvB,CAAhB;AACAC,WAAKwB,IAAL,CAAUoD,MAAV,GAAmB5H,EAAEgD,KAAKoD,QAAL,CAAc9F,QAAhB,EAA0B2C,EAA1B,CAAnB;AACAD,WAAKwB,IAAL,CAAUqD,KAAV,GAAkB7E,KAAKwB,IAAL,CAAUoD,MAAV,CAAiBtD,MAAnC;;AACA,UAAItB,KAAKoD,QAAL,CAAcjE,MAAlB,EAA0B;AAAE;AAC1B,YAAI,CAACgC,SAAS,YAAT,CAAL,EAA6B;AAC3BnB,eAAKoD,QAAL,CAAcjE,MAAd,GAAuB,KAAvB;AACD;;AACDa,aAAKwB,IAAL,CAAU5C,UAAV,GAAuB8B,sBAAvB;AACD;;AACDT,SAAG6H,IAAH,CAAQ,aAAR,EAAuB7H,GAAG6C,IAAH,CAAQ,OAAR,CAAvB;AACA7C,SAAG6H,IAAH,CAAQ,gBAAR,EAA0B7H,GAAG6C,IAAH,CAAQ,OAAR,CAA1B;AACA7C,SAAGiE,QAAH,CAAYlE,KAAKoD,QAAL,CAAc/F,QAA1B,EAAoC+K,IAApC,CAAyCpI,KAAKoD,QAAL,CAAclG,cAAvD,EAAuEkL,IAAvE,CAA4EpI,KAAKoD,QAAL,CAAcjG,YAA1F,EAAwGiL,IAAxG,CAA6GpI,KAAKoD,QAAL,CAAchG,SAA3H;AACA4C,WAAKwB,IAAL,CAAUrE,YAAV,GAAyB8C,GAAGoI,MAAH,GAAYA,MAAZ,EAAzB;AACArI,WAAKwB,IAAL,CAAUtE,cAAV,GAA2B8C,KAAKwB,IAAL,CAAUrE,YAAV,CAAuBkL,MAAvB,GAAgCnE,QAAhC,CAAyClE,KAAKoD,QAAL,CAAc3F,YAAvD,CAA3B;AACAuC,WAAKwB,IAAL,CAAUsC,KAAV,GAAkB,IAAlB;AACA9D,WAAKwB,IAAL,CAAUoD,MAAV,CAAiBrD,IAAjB,CAAsB,YAAY;AAChCvE,UAAE,IAAF,EAAQkH,QAAR,CAAiB,cAAclE,KAAKoD,QAAL,CAAcxE,UAA7C;;AACA,YAAIoB,KAAKoD,QAAL,CAAcjE,MAAlB,EAA0B;AACxBnC,YAAE,IAAF,EAAQkH,QAAR,CAAiB,QAAjB;AACD;;AACD,YAAIlE,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,YAAjC,EAA+C;AAC7C5B,YAAE,IAAF,EAAQ0G,GAAR,CAAY,MAAZ,EAAoB1G,EAAE,IAAF,EAAQuG,KAAR,MAAmB,MAAMvD,KAAKoD,QAAL,CAActE,WAAvC,IAAsD,GAA1E;AACD,SAFD,MAEO,IAAIkB,KAAKoD,QAAL,CAAcxE,UAAd,KAA6B,UAAjC,EAA6C;AAClD5B,YAAE,IAAF,EAAQ0G,GAAR,CAAY,KAAZ,EAAmB1G,EAAE,IAAF,EAAQuG,KAAR,MAAmB,MAAMvD,KAAKoD,QAAL,CAActE,WAAvC,IAAsD,GAAzE;AACD;AACF,OAVD;;AAWA,UAAKkB,KAAKwB,IAAL,CAAUqD,KAAV,GAAkB,CAAnB,IAA0B7E,KAAKoD,QAAL,CAAcpF,UAA5C,EAAyD;AACvD,YAAIhB,EAAE,MAAMgD,KAAKoD,QAAL,CAAc7F,WAAtB,EAAmC0C,EAAnC,EAAuCsD,KAAvC,OAAmD,CAAC,CAAxD,EAA2D;AACzD,cAAIvD,KAAKoD,QAAL,CAAczF,KAAd,KAAwB,QAA5B,EAAsC;AACpCmH,oBAAQwD,KAAKC,KAAL,CAAWD,KAAKE,MAAL,MAAiBxI,KAAKwB,IAAL,CAAUqD,KAAV,GAAkB,CAAnC,CAAX,CAAR;AACD,WAFD,MAEO,IAAI7E,KAAKoD,QAAL,CAAczF,KAAd,GAAsB,CAAtB,IAA2BqC,KAAKoD,QAAL,CAAczF,KAAd,IAAuBqC,KAAKwB,IAAL,CAAUqD,KAAhE,EAAuE;AAC5EC,oBAAQ9E,KAAKoD,QAAL,CAAczF,KAAd,GAAsB,CAA9B;AACD,WAFM,MAEA;AACLmH,oBAAQ,CAAR;AACD;;AACD9E,eAAKwB,IAAL,CAAU8B,MAAV,GAAmBtG,EAAEgD,KAAKwB,IAAL,CAAUoD,MAAV,CAAiBE,KAAjB,CAAF,EAA2BZ,QAA3B,CAAoClE,KAAKoD,QAAL,CAAc7F,WAAlD,CAAnB;AACD,SATD,MASO;AACLyC,eAAKwB,IAAL,CAAU8B,MAAV,GAAmBtG,EAAE,MAAMgD,KAAKoD,QAAL,CAAc7F,WAAtB,EAAmC0C,EAAnC,CAAnB;AACD;;AACDM;AACAD;AACAK;AACAzC,gBAAQ8B,KAAKwB,IAAL,CAAUoD,MAAlB;AACD,OAjBD,MAiBO;AACL,eAAO,IAAP;AACD;AACF,KAhDD;;AAkDAxE,WA9mBgC,CA8mBxB;;AAER,WAAO,IAAP;AACD,GAjnBD;AAknBD,CAvrBA,EAurBCqI,MAvrBD,CAAD","file":"slippry.js.map","sourcesContent":["/** @preserve\n *\n * slippry v1.4.0 - Responsive content slider for jQuery\n * http://slippry.com\n *\n * Authors: Lukas Jakob Hafner - @saftsaak\n *          Thomas Hurd - @SeenNotHurd\n *\n * Copyright 2016, booncon oy - http://booncon.com\n *\n *\n * Released under the MIT license - http://opensource.org/licenses/MIT\n */\n\n(function ($) {\n  \"use strict\";\n  var defaults;\n\n  defaults = {\n    // general elements & wrapper\n    slippryWrapper: '<div class=\"sy-box\" />', // wrapper to wrap everything, including pager\n    slideWrapper: '<div class=\"sy-slides-wrap\" />', // wrapper to wrap sildes & controls\n    slideCrop: '<div class=\"sy-slides-crop\" />', //additional wrapper around just the slides\n    boxClass: 'sy-list', // class that goes to original element\n    elements: 'li', // elments cointaining slide content\n    activeClass: 'sy-active', // class for current slide\n    fillerClass: 'sy-filler', // class for element that acts as intrinsic placholder\n    loadingClass: 'sy-loading',\n\n    // options\n    adaptiveHeight: true, // height of the sliders adapts to current slide\n    start: 1, // num (starting from 1), random\n    loop: true, // first -> last & last -> first arrows\n    captionsSrc: 'img', // img, el [img takes caption from alt or title, el from title of slide element]\n    captions: 'overlay', // Position: overlay, below, custom, false\n    captionsEl: '.sy-caption', // $ selector for captions wrapper\n    initSingle: true, // initialise even if there is only one slide\n    responsive: true,\n    preload: 'visible', // visible, all | resources to wait for until showing slider\n\n    // pager\n    pager: true,\n    pagerClass: 'sy-pager',\n\n    // controls\n    controls: true,\n    controlClass: 'sy-controls',\n    prevClass: 'sy-prev',\n    prevText: 'Previous',\n    nextClass: 'sy-next',\n    nextText: 'Next',\n    hideOnEnd: true,\n\n    // transitions\n    transition: 'fade', // fade, horizontal, vertical, kenburns, false\n    kenZoom: 120, // max zoom for kenburns (in %)\n    slideMargin: 0, // spacing between slides (in %)\n    transClass: 'transition', // [Class applied to [element] while a transition is taking place.]\n    speed: 800, // time the transition takes (ms)\n    easing: 'swing', // easing to use in the animation [(see... [jquery www])]\n    continuous: true, // seamless first/ last transistion, only works with loop\n    useCSS: true, // true, false -> fallback to js if no browser support\n\n    //slideshow\n    auto: true,\n    autoDirection: 'next',\n    autoHover: true,\n    autoHoverDelay: 100,\n    autoDelay: 500,\n    pause: 4000,\n\n    // callback functions\n    onSliderLoad: function () { // when slider loaded\n      return this;\n    },\n    onSlideBefore: function () { // before page transition starts\n      return this;\n    },\n    onSlideAfter: function () {  // after page transition happened\n      return this;\n    }\n  };\n\n  $.fn.slippry = function (options) {\n    var slip, el, prepareFiller, getFillerProportions, init, updateCaption, initPager, initControls, ready, transitionDone, whichTransitionEvent,\n      initCaptions, updatePager, setFillerProportions, doTransition, updateSlide, openSlide, updateControls, updatePos, supports, preload, start, elFromSel, doKens;\n\n    // reference to the object calling the function\n    el = this;\n\n    // if no elements just stop\n    if (el.length === 0) {\n      return this;\n    }\n    // support mutltiple elements\n    if (el.length > 1) {\n      el.each(function () {\n        $(this).slippry(options);\n      });\n      return this;\n    }\n\n    // variable to access the slider settings across the plugin\n    slip = {};\n    slip.vars = {};\n\n    whichTransitionEvent = function () { // Thanks! http://stackoverflow.com/a/18672988\n      var t, div, transitions;\n      div = document.createElement('div');\n      transitions = {\n        'WebkitTransition' : 'webkitTransitionEnd',\n        'MozTransition'    : 'transitionend',\n        'MSTransition'     : 'msTransitionEnd',\n        'OTransition'      : 'oTransitionEnd',\n        'transition'       : 'transitionEnd transitionend'\n      };\n      for (t in transitions) {\n        if (div.style[t] !== undefined) {\n          return transitions[t];\n        }\n      }\n    };\n\n    supports = (function () {  // Thanks! http://net.tutsplus.com/tutorials/html-css-techniques/quick-tip-detect-css-support-in-browsers-with-javascript/\n      var div = document.createElement('div'),\n        vendors = ['Khtml', 'Ms', 'O', 'Moz', 'Webkit'],\n        len = vendors.length;\n      return function (prop) {\n        if (prop in div.style) {\n          return true;\n        }\n        prop = prop.replace(/^[a-z]/, function (val) {\n          return val.toUpperCase();\n        });\n        while (len--) {\n          if (vendors[len] + prop in div.style) {\n            return true;\n          }\n        }\n        return false;\n      };\n    }());\n\n    elFromSel = function (sel, prop) {\n      var props, newelement, id, className;\n      props = prop.split('.');\n      newelement = $(sel);\n      id = '';\n      className = '';\n      $.each(props, function (i, val) {\n        if (val.indexOf('#') >= 0) {\n          id += val.replace(/^#/, '');\n        } else {\n          className += val + ' ';\n        }\n      });\n      if (id.length) {\n        newelement.attr('id', id);\n      }\n      if (className.length) {\n        newelement.attr('class', $.trim(className));\n      }\n      return newelement;\n    };\n\n    doKens = function () {\n      var kenStart, kenTime, animProp, cssProp;\n      animProp = {};\n      cssProp = {};\n      kenStart = 100 - slip.settings.kenZoom;\n      cssProp.width = slip.settings.kenZoom + '%';\n      if (slip.vars.active.index() % 2 === 0) {\n        cssProp.left = kenStart + '%';\n        cssProp.top = kenStart + '%';\n        animProp.left = '0%';\n        animProp.top = '0%';\n      } else {\n        cssProp.left = '0%';\n        cssProp.top = '0%';\n        animProp.left = kenStart + '%';\n        animProp.top = kenStart + '%';\n      }\n      kenTime = slip.settings.pause + slip.settings.speed * 2;\n      slip.vars.active.css(cssProp);\n      slip.vars.active.animate(animProp, {duration: kenTime, easing: slip.settings.easing, queue: false});\n    };\n\n    ready = function () {\n      if (slip.vars.fresh) {\n        slip.vars.slippryWrapper.removeClass(slip.settings.loadingClass);\n        slip.vars.fresh = false;\n        if (slip.settings.auto) {\n          el.startAuto();\n        }\n        if (!slip.settings.useCSS && slip.settings.transition === 'kenburns') {\n          doKens();\n        }\n        slip.settings.onSliderLoad.call(undefined, slip.vars.active.index());\n      } else {\n        $('.' + slip.settings.fillerClass, slip.vars.slideWrapper).addClass('ready');\n      }\n    };\n\n    setFillerProportions = function (width, height) {\n      var ratio, p_top, $filler;\n      ratio = width / height;\n      p_top = 1 / ratio * 100 + '%';  //cool intrinsic trick: http://alistapart.com/article/creating-intrinsic-ratios-for-video\n      $filler = $('.' + slip.settings.fillerClass, slip.vars.slideWrapper);\n      $filler.css({paddingTop: p_top}); // resizing without the need of js, true responsiveness :)\n      ready();\n    };\n\n    // gets the aspect ratio of the filler element\n    getFillerProportions = function ($slide) {\n      var width, height;\n      if (($('img', $slide).attr(\"src\") !== undefined)) {\n        $(\"<img />\").on(\"load\", function () {\n          width = $slide.width();\n          height = $slide.height();\n          setFillerProportions(width, height);\n        }).attr(\"src\", $('img', $slide).attr(\"src\"));\n      } else {\n        width = $slide.width();\n        height = $slide.height();\n        setFillerProportions(width, height);\n      }\n    };\n\n    // prepares a div to occupy the needed space\n    prepareFiller = function () {\n      if ($('.' + slip.settings.fillerClass, slip.vars.slideWrapper).length === 0) {\n        slip.vars.slideWrapper.append($('<div class=\"' + slip.settings.fillerClass + '\" />'));\n      }\n      if (slip.settings.adaptiveHeight === true) {  // if the slides shoud alwas adapt to their content\n        getFillerProportions($('.' + slip.settings.activeClass, el));  // set the filler height on the active element\n      } else {  // otherwise get the highest element\n        var $highest, height, loop;\n        height = 0;\n        loop = 0;\n        $(slip.vars.slides).each(function () {\n          if ($(this).height() > height) {\n            $highest = $(this);\n            height = $highest.height();\n          }\n          loop = loop + 1;\n          if (loop === slip.vars.count) {\n            if ($highest === undefined) {\n              $highest = $($(slip.vars.slides)[0]);\n            }\n            getFillerProportions($highest);\n          }\n        });\n      }\n    };\n\n    updatePager = function () {\n      if (slip.settings.pager) {\n        $('.' + slip.settings.pagerClass + ' li', slip.vars.slippryWrapper).removeClass(slip.settings.activeClass);\n        $($('.' + slip.settings.pagerClass + ' li', slip.vars.slippryWrapper)[slip.vars.active.index()]).addClass(slip.settings.activeClass);\n      }\n    };\n\n    updateControls = function () {\n      if (!slip.settings.loop && slip.settings.hideOnEnd) {\n        $('.' + slip.settings.prevClass, slip.vars.slippryWrapper)[slip.vars.first ? 'hide' : 'show']();\n        $('.' + slip.settings.nextClass, slip.vars.slippryWrapper)[slip.vars.last ? 'hide' : 'show']();\n      }\n    };\n\n    updateCaption = function () {\n      var caption, wrapper;\n      if (slip.settings.captions !== false) {\n        if (slip.settings.captionsSrc !== 'img') {\n          caption = slip.vars.active.attr('title');\n        } else {\n          caption = $('img', slip.vars.active).attr('title') !== undefined ? $('img', slip.vars.active).attr('title') : $('img', slip.vars.active).attr('alt');\n        }\n        if (slip.settings.captions !== 'custom') {\n          wrapper = $(slip.settings.captionsEl, slip.vars.slippryWrapper);\n        } else {\n          wrapper = $(slip.settings.captionsEl);\n        }\n        if ((caption !== undefined) && (caption !== '')) {\n          wrapper.html(caption).show();\n        } else {\n          wrapper.hide();\n        }\n      }\n    };\n\n    el.startAuto = function () {\n      if ((slip.vars.timer === undefined) && (slip.vars.delay === undefined)) {\n        slip.vars.delay = window.setTimeout(function () {\n          slip.vars.autodelay = false;\n          slip.vars.timer = window.setInterval(function () {\n            slip.vars.trigger = 'auto';\n            openSlide(slip.settings.autoDirection);\n          }, slip.settings.pause);\n        }, slip.vars.autodelay ? slip.settings.autoHoverDelay : slip.settings.autoDelay);\n        if (slip.settings.autoHover) {\n          slip.vars.slideWrapper.unbind('mouseenter').unbind('mouseleave').bind('mouseenter', function () {\n            if (slip.vars.timer !== undefined) {\n              slip.vars.hoverStop = true;\n              el.stopAuto();\n            } else {\n              slip.vars.hoverStop = false;\n            }\n          }).bind('mouseleave', function () {\n            if (slip.vars.hoverStop) {\n              slip.vars.autodelay = true;\n              el.startAuto();\n            }\n          });\n        }\n      }\n    };\n\n    el.stopAuto = function () {\n      window.clearInterval(slip.vars.timer);\n      slip.vars.timer = undefined;\n      window.clearTimeout(slip.vars.delay);\n      slip.vars.delay = undefined;\n    };\n\n    // refreshes the already initialised slider\n    el.refresh = function () {\n      slip.vars.slides.removeClass(slip.settings.activeClass);\n      slip.vars.active.addClass(slip.settings.activeClass);\n      if (slip.settings.responsive) {\n        prepareFiller();\n      } else {\n        ready();\n      }\n      updateControls();\n      updatePager();\n      updateCaption();\n    };\n\n    updateSlide = function () {\n      el.refresh();\n    };\n\n    transitionDone = function () {\n      slip.vars.moving = false;\n      slip.vars.active.removeClass(slip.settings.transClass);\n      if (!slip.vars.fresh) {\n        slip.vars.old.removeClass('sy-ken');\n      }\n      slip.vars.old.removeClass(slip.settings.transClass);\n      slip.settings.onSlideAfter.call(undefined, slip.vars.active, slip.vars.old.index(), slip.vars.active.index());\n      if (slip.settings.auto) {\n        if (!slip.vars.hoverStop || slip.vars.hoverStop === undefined){\n          el.startAuto();\n        }\n      }\n    };\n\n    doTransition = function () {\n      var pos, jump, old_left, old_pos, kenTime, ref, cssProp;\n      slip.settings.onSlideBefore.call(undefined, slip.vars.active, slip.vars.old.index(), slip.vars.active.index());\n      if (slip.settings.transition !== false) {\n        slip.vars.moving = true;\n        if ((slip.settings.transition === 'fade') || (slip.settings.transition === 'kenburns')) {\n          if (slip.vars.fresh) {\n            if (slip.settings.useCSS) {\n              slip.vars.slides.css({transitionDuration: slip.settings.speed + 'ms', opacity: 0});\n            } else {\n              slip.vars.slides.css({opacity: 0});\n            }\n            slip.vars.active.css('opacity', 1);\n            if (slip.settings.transition === 'kenburns') {\n              if (slip.settings.useCSS) {\n                kenTime = slip.settings.pause + slip.settings.speed * 2;\n                slip.vars.slides.css({animationDuration: kenTime + 'ms'});\n                slip.vars.active.addClass('sy-ken');\n              }\n            }\n            transitionDone();\n          } else {\n            if (slip.settings.useCSS) {\n              slip.vars.old.addClass(slip.settings.transClass).css('opacity', 0);\n              slip.vars.active.addClass(slip.settings.transClass).css('opacity', 1);\n              if (slip.settings.transition === 'kenburns') {\n                slip.vars.active.addClass('sy-ken');\n              }\n              $(window).off('focus').on('focus', function () { // bugfix for safari 7 which doesn't always trigger ontransitionend when switching tab\n                if (slip.vars.moving) {\n                  slip.vars.old.trigger(slip.vars.transition);\n                }\n              });\n              slip.vars.old.one(slip.vars.transition, function () {\n                transitionDone();\n                return this;\n              });\n            } else {\n              if (slip.settings.transition === 'kenburns') {\n                doKens();\n              }\n              slip.vars.old.addClass(slip.settings.transClass).animate({\n                opacity: 0\n              }, slip.settings.speed, slip.settings.easing, function () {\n                transitionDone();\n              });\n              slip.vars.active.addClass(slip.settings.transClass).css('opacity', 0).animate({\n                opacity: 1\n              }, slip.settings.speed, slip.settings.easing);\n            }\n          }\n          updateSlide();\n        } else if ((slip.settings.transition === 'horizontal') || (slip.settings.transition === 'vertical')) {\n          ref = (slip.settings.transition === 'horizontal') ? 'left' : 'top';\n          pos = '-' + slip.vars.active.index() * (100 + slip.settings.slideMargin) + '%';\n          if (slip.vars.fresh) {\n            el.css(ref, pos);\n            transitionDone();\n          } else {\n            cssProp = {};\n            if (slip.settings.continuous) {\n              if (slip.vars.jump && ((slip.vars.trigger === 'controls') || (slip.vars.trigger === 'auto'))) {\n                jump = true;\n                old_pos = pos;\n                if (slip.vars.first) {\n                  old_left = 0;\n                  slip.vars.active.css(ref, slip.vars.count * (100 + slip.settings.slideMargin) + '%');\n                  pos = '-' + slip.vars.count * (100 + slip.settings.slideMargin) + '%';\n                } else {\n                  old_left = (slip.vars.count - 1) * (100 + slip.settings.slideMargin) + '%';\n                  slip.vars.active.css(ref, -(100 + slip.settings.slideMargin) + '%');\n                  pos = (100 + slip.settings.slideMargin) + '%';\n                }\n              }\n            }\n            slip.vars.active.addClass(slip.settings.transClass);\n            if (slip.settings.useCSS) {\n              cssProp[ref] = pos;\n              cssProp.transitionDuration = slip.settings.speed + 'ms';\n              el.addClass(slip.settings.transition);\n              el.css(cssProp);\n              $(window).off('focus').on('focus', function () { // bugfix for safari 7 which doesn't always trigger ontransitionend when switching tab\n                if (slip.vars.moving) {\n                  el.trigger(slip.vars.transition);\n                }\n              });\n              el.one(slip.vars.transition, function () {\n                el.removeClass(slip.settings.transition);\n                if (jump) {\n                  slip.vars.active.css(ref, old_left);\n                  cssProp[ref] = old_pos;\n                  cssProp.transitionDuration = '0ms';\n                  el.css(cssProp);\n                }\n                transitionDone();\n                return this;\n              });\n            } else {\n              cssProp[ref] = pos;\n              el.stop().animate(cssProp, slip.settings.speed, slip.settings.easing, function () {\n                if (jump) {\n                  slip.vars.active.css(ref, old_left);\n                  el.css(ref, old_pos);\n                }\n                transitionDone();\n                return this;\n              });\n            }\n          }\n          updateSlide();\n        }\n      } else {\n        updateSlide();\n        transitionDone();\n      }\n    };\n\n    updatePos = function (slide) {\n      slip.vars.first = slip.vars.last = false;\n      if ((slide === 'prev') || (slide === 0)) {\n        slip.vars.first = true;\n      } else if ((slide === 'next') || (slide === slip.vars.count - 1)) {\n        slip.vars.last = true;\n      }\n    };\n\n    openSlide = function (slide) {\n      var current, direction;\n      if (!slip.vars.moving) {\n        if (slip.vars.trigger !== 'auto') {\n          el.stopAuto();\n        }\n        current = slip.vars.active.index();\n        if (slide === 'prev') {\n          direction = slide;\n          if (current > 0) {\n            slide = current - 1;\n          } else if (slip.settings.loop) {\n            slide = slip.vars.count - 1;\n          }\n        } else if (slide === 'next') {\n          direction = slide;\n          if (current < slip.vars.count - 1) {\n            slide = current + 1;\n          } else if (slip.settings.loop) {\n            slide = 0;\n          }\n        } else {\n          slide = slide - 1;\n          direction = slide < current ? 'prev' : 'next';\n        }\n        slip.vars.jump = false;\n        if ((slide !== 'prev') && (slide !== 'next') && ((slide !== current) || (slip.vars.fresh))) {\n          updatePos(slide);\n          slip.vars.old = slip.vars.active;\n          slip.vars.active = $(slip.vars.slides[slide]);\n          if (((current === 0) && (direction === 'prev')) || ((current === slip.vars.count - 1) && (direction === 'next'))) {\n            slip.vars.jump = true;\n          }\n          doTransition();\n        }\n      }\n    };\n\n    el.goToSlide = function (slide) {\n      slip.vars.trigger = 'external';\n      openSlide(slide);\n    };\n\n    el.goToNextSlide = function () {\n      slip.vars.trigger = 'external';\n      openSlide('next');\n    };\n\n    el.goToPrevSlide = function () {\n      slip.vars.trigger = 'external';\n      openSlide('prev');\n    };\n\n    initPager = function () {\n      if ((slip.settings.pager) && (slip.vars.count > 1)) {\n        var count, loop, pager;\n        count = slip.vars.slides.length;\n        pager = $('<ul class=\"' + slip.settings.pagerClass + '\" />');\n        for (loop = 1; loop < count + 1; loop = loop + 1) {\n          pager.append($('<li />').append($('<a href=\"#' + loop + '\">' + loop + '</a>')));\n        }\n        slip.vars.slippryWrapper.append(pager);\n        $('.' + slip.settings.pagerClass + ' a', slip.vars.slippryWrapper).click(function () {\n          slip.vars.trigger = 'pager';\n          openSlide(parseInt(this.hash.split('#')[1], 10));\n          return false;\n        });\n        updatePager();\n      }\n    };\n\n    initControls = function () {\n      if ((slip.settings.controls) && (slip.vars.count > 1)) {\n        slip.vars.slideWrapper.append(\n          $('<ul class=\"' + slip.settings.controlClass + '\" />')\n            .append('<li class=\"' + slip.settings.prevClass + '\"><a href=\"#prev\">' + slip.settings.prevText + '</a></li>')\n            .append('<li class=\"' + slip.settings.nextClass + '\"><a href=\"#next\">' + slip.settings.nextText + '</a></li>')\n        );\n        $('.' + slip.settings.controlClass + ' a', slip.vars.slippryWrapper).click(function () {\n          slip.vars.trigger = 'controls';\n          openSlide(this.hash.split('#')[1]);\n          return false;\n        });\n        updateControls();\n      }\n    };\n\n    initCaptions = function () {\n      if (slip.settings.captions !== false) {\n        if (slip.settings.captions === 'overlay') {\n          slip.vars.slideWrapper.append($('<div class=\"sy-caption-wrap\" />').html(elFromSel('<div />', slip.settings.captionsEl)));\n        } else if (slip.settings.captions === 'below') {\n          slip.vars.slippryWrapper.append($('<div class=\"sy-caption-wrap\" />').html(elFromSel('<div />', slip.settings.captionsEl)));\n        }\n      }\n    };\n\n    // actually show the first slide\n    start = function () {\n      openSlide(slip.vars.active.index() + 1);\n    };\n\n    // wait for images, iframes to be loaded\n    preload = function (slides) {\n      var count, loop, elements, container;\n      container = (slip.settings.preload === 'all') ? slides : slip.vars.active;\n      elements = $('img, iframe', container);\n      count = elements.length;\n      if (count === 0) {\n        start();\n        return;\n      }\n      loop = 0;\n      elements.each(function () {\n        $(this).one('load error', function () {\n          if (++loop === count) {\n            start();\n          }\n        }).each(function () {\n          if (this.complete) {\n            $(this).trigger('load');\n          }\n        });\n      });\n    };\n\n    el.getCurrentSlide = function () {\n      return slip.vars.active;\n    };\n\n    el.getSlideCount = function () {\n      return slip.vars.count;\n    };\n\n    el.destroySlider = function () {\n      if (slip.vars.fresh === false) {\n        el.stopAuto();\n        slip.vars.moving = false;\n        slip.vars.slides.each(function () {\n          if ($(this).data(\"sy-cssBckup\") !== undefined) {\n            $(this).attr(\"style\", $(this).data(\"sy-cssBckup\"));\n          } else {\n            $(this).removeAttr('style');\n          }\n          if ($(this).data(\"sy-classBckup\") !== undefined) {\n            $(this).attr(\"class\", $(this).data(\"sy-classBckup\"));\n          } else {\n            $(this).removeAttr('class');\n          }\n        });\n        if (el.data(\"sy-cssBckup\") !== undefined) {\n          el.attr(\"style\", el.data(\"sy-cssBckup\"));\n        } else {\n          el.removeAttr('style');\n        }\n        if (el.data(\"sy-classBckup\") !== undefined) {\n          el.attr(\"class\", el.data(\"sy-classBckup\"));\n        } else {\n          el.removeAttr('class');\n        }\n        slip.vars.slippryWrapper.before(el);\n        slip.vars.slippryWrapper.remove();\n        slip.vars.fresh = undefined;\n      }\n    };\n\n    el.reloadSlider = function () {\n      el.destroySlider();\n      init();\n    };\n\n    // initialises the slider, creates needed markup\n    init = function () {\n      var first;\n      slip.settings = $.extend({}, defaults, options);\n      slip.vars.slides = $(slip.settings.elements, el);\n      slip.vars.count = slip.vars.slides.length;\n      if (slip.settings.useCSS) { // deactivate css transitions on unsupported browsers\n        if (!supports('transition')) {\n          slip.settings.useCSS = false;\n        }\n        slip.vars.transition = whichTransitionEvent();\n      }\n      el.data('sy-cssBckup', el.attr('style'));\n      el.data('sy-classBackup', el.attr('class'));\n      el.addClass(slip.settings.boxClass).wrap(slip.settings.slippryWrapper).wrap(slip.settings.slideWrapper).wrap(slip.settings.slideCrop);\n      slip.vars.slideWrapper = el.parent().parent();\n      slip.vars.slippryWrapper = slip.vars.slideWrapper.parent().addClass(slip.settings.loadingClass);\n      slip.vars.fresh = true;\n      slip.vars.slides.each(function () {\n        $(this).addClass('sy-slide ' + slip.settings.transition);\n        if (slip.settings.useCSS) {\n          $(this).addClass('useCSS');\n        }\n        if (slip.settings.transition === 'horizontal') {\n          $(this).css('left', $(this).index() * (100 + slip.settings.slideMargin) + '%');\n        } else if (slip.settings.transition === 'vertical') {\n          $(this).css('top', $(this).index() * (100 + slip.settings.slideMargin) + '%');\n        }\n      });\n      if ((slip.vars.count > 1) || (slip.settings.initSingle)) {\n        if ($('.' + slip.settings.activeClass, el).index() === -1) {\n          if (slip.settings.start === 'random') {\n            first = Math.round(Math.random() * (slip.vars.count - 1));\n          } else if (slip.settings.start > 0 && slip.settings.start <= slip.vars.count) {\n            first = slip.settings.start - 1;\n          } else {\n            first = 0;\n          }\n          slip.vars.active = $(slip.vars.slides[first]).addClass(slip.settings.activeClass);\n        } else {\n          slip.vars.active = $('.' + slip.settings.activeClass, el);\n        }\n        initControls();\n        initPager();\n        initCaptions();\n        preload(slip.vars.slides);\n      } else {\n        return this;\n      }\n    };\n\n    init(); // on startup initialise the slider\n\n    return this;\n  };\n}(jQuery));\n"]},"hash":"6ecb23a87b2ad8a3857a85f1bb8642e5f59a894e"}
